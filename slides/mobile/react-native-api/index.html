<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>React Native : utilisation d'API web</title><link rel=stylesheet href=https://bpesquet.github.io/reveal.js/dist/reveal.css><link rel=stylesheet href=https://bpesquet.github.io/reveal.js/dist/theme/white.css></head><body><div class=reveal><div class=slides><section><h1>React Native : utilisation d'API web</h1><p><a href=https://ensc.bordeaux-inp.fr>Ecole Nationale Supérieure de Cognitique</a></p><p><a href=https://bpesquet.github.io>Baptiste Pesquet</a></p></section><section><h2 id=sommaire>Sommaire</h2><ul><li>Introduction aux API web</li><li>Appels réseau avec JavaScript</li><li>Interactions avec un SGBDR via une API</li></ul></section><section><h2 id=introduction-aux-api-web>Introduction aux API web</h2></section><section><h2 id=la-notion-dapi>La notion d&rsquo;API</h2><p>Une <strong>API</strong> (<em>Application Programming Interface</em>) est un point d&rsquo;entrée programmatique dans un système.</p><p>Elle fournit un moyen d&rsquo;interagir avec ce système.</p><p>Les API permettent aux développeurs d&rsquo;intégrer des services externes dans leurs applications.</p></section><section><h2 id=spécificités-des-api-web>Spécificités des API web</h2><p>Une <strong>API web</strong> (appelée parfois service web) est une API accessible via les technologies du web : HTTP ou HTTPS.</p><p>Elles utilisent le plus souvent le format de donnée <strong>JSON</strong>.</p><p>Certaines sont librement utilisables, d&rsquo;autres nécessitent une authentification du client.</p></section><section><h2 id=exemples-dapi-web>Exemples d&rsquo;API web</h2><ul><li><a href=https://pokeapi.co/>PokéAPI</a></li><li><a href=https://swapi.co/>Star Wars API</a></li><li><a href=https://en.wikipedia.org/w/api.php?>Wikipedia</a></li><li><a href=https://developer.spotify.com/documentation/web-api/>Spotify</a></li><li><a href=https://www.omdbapi.com/>OMDb API</a></li></ul><p>(<a href=https://shkspr.mobi/blog/2016/05/easy-apis-without-authentication/>Source</a>)</p></section><section><h2 id=outils-pour-la-gestion-des-api-web>Outils pour la gestion des API web</h2><ul><li><a href=https://www.getpostman.com/>Postman</a>.</li><li>Extension <a href=https://addons.mozilla.org/fr/firefox/addon/restclient/>RESTClient</a> pour Firefox.</li></ul></section><section><h2 id=appels-réseau-avec-javascript>Appels réseau avec JavaScript</h2></section><section><h2 id=appels-asynchrones>Appels asynchrones</h2><p>Une <strong>promesse</strong> (<em>promise</em>) est un objet qui encapsule une opération dont le résultat n&rsquo;est pas encore connu.</p><p>La fonction JavaScript <code>fetch()</code> est importée du web.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>// Envoie une requête HTTP asynchrone vers l&#39;URL spécifiée
</span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>url</span>)
  .<span style=color:#a6e22e>then</span>(() =&gt; {
    <span style=color:#75715e>// Code appelé ultérieurement si la requête réussit
</span><span style=color:#75715e></span>  })
  .<span style=color:#66d9ef>catch</span>(() =&gt; {
    <span style=color:#75715e>// Code appelé ultérieurement si la requête échoue
</span><span style=color:#75715e></span>  });
</code></pre></div></section><section><h2 id=accès-à-une-ressource-distante>Accès à une ressource distante</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>// Envoi d&#39;une requête HTTP asynchrone vers l&#39;URL spécifiée
</span><span style=color:#75715e>// La réponse est reçue ici sous forme de données JSON
</span><span style=color:#75715e></span><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#34;http://my-api-url&#34;</span>)
  <span style=color:#75715e>// Accès au contenu JSON de la réponse
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
  <span style=color:#75715e>// Utilisation du contenu de la réponse
</span><span style=color:#75715e></span>  <span style=color:#75715e>// `content` est un objet ou un tableau JavaScript
</span><span style=color:#75715e></span>  .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>content</span> =&gt; {
    <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>  })
  .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>error</span> =&gt; {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>errpr</span>);
  });
</code></pre></div></section><section><h2 id=mise-à-jour-dune-ressource-distante>Mise à jour d&rsquo;une ressource distante</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>&#39;https://mywebsite.com/endpoint/&#39;</span>, {
  <span style=color:#a6e22e>method</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;POST&#39;</span>,
  <span style=color:#a6e22e>headers</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>Accept</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;application/json&#39;</span>,
    <span style=color:#e6db74>&#39;Content-Type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;application/json&#39;</span>,
  },
  <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>({
    <span style=color:#a6e22e>firstParam</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;yourValue&#39;</span>,
    <span style=color:#a6e22e>secondParam</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;yourOtherValue&#39;</span>,
  }),
});
</code></pre></div></section><section><h2 id=application>Application</h2><p><a href=https://github.com/ensc-mobi/RandomBeer>https://github.com/ensc-mobi/RandomBeer</a></p><p><img src=images/random_beer.png alt="Random Beer app"></p></section><section><h2 id=consommation-dune-api-web>Consommation d&rsquo;une API web</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>headers</span> <span style=color:#f92672>=</span> {
  <span style=color:#e6db74>&#34;Content-Type&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;application/json&#34;</span>,
  <span style=color:#a6e22e>Accept</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;application/json&#34;</span>
};

<span style=color:#75715e>// Retourne une recette de bière au hasard
</span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getRandomBrewdog</span> <span style=color:#f92672>=</span> () =&gt;
  <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>rootEndpoint</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/beers/random`</span>, { <span style=color:#a6e22e>headers</span> })
    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
    <span style=color:#75715e>// Access first element of returned array
</span><span style=color:#75715e></span>    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>beers</span> =&gt; <span style=color:#a6e22e>beers</span>[<span style=color:#ae81ff>0</span>])
    .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>error</span> =&gt; {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>error</span>);
    });
</code></pre></div></section><section><h2 id=mise-à-jour-de-lapplication>Mise à jour de l&rsquo;application</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx>  <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>_getRandomBrewdogWithFeedback</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({ <span style=color:#a6e22e>isLoading</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> });
    <span style=color:#a6e22e>getRandomBrewdog</span>().<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>beer</span> =&gt;
      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({
        <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>beer</span>.<span style=color:#a6e22e>name</span>,
        <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>beer</span>.<span style=color:#a6e22e>description</span>,
        <span style=color:#a6e22e>isLoading</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span> <span style=color:#75715e>// la requête est terminée
</span><span style=color:#75715e></span>      })
    );
  };

  <span style=color:#a6e22e>componentDidMount</span>() {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_getRandomBrewdogWithFeedback</span>();
  }

  <span style=color:#75715e>// ...
</span></code></pre></div></section><section><h2 id=interactions-avec-un-sgbdr-via-une-api>Interactions avec un SGBDR via une API</h2></section><section><h2 id=php-crud-api>PHP-CRUD-API</h2><p><a href=https://github.com/mevdschee/php-crud-api>https://github.com/mevdschee/php-crud-api</a></p><p>Fichier <code>api.php</code> à publier sur un serveur web PHP. Fournit une API web pour accéder aux données d&rsquo;un SGBDR.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#75715e>// Update to reflect your local settings
</span><span style=color:#75715e></span>$config <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Config</span>([
  <span style=color:#e6db74>&#39;username&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;xxx&#39;</span>,
  <span style=color:#e6db74>&#39;password&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;xxx&#39;</span>,
  <span style=color:#e6db74>&#39;database&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;xxx&#39;</span>,
]);
</code></pre></div></section><section><h2 id=utilisation-de-php-crud-api>Utilisation de PHP-CRUD-API</h2><p>URL <code>http://my-server-url/api.php/records/...</code></p><ul><li><code>GET my-table</code> : renvoie la liste des enregistrements de la table <code>my-table</code>.</li><li><code>GET my-table/id</code> : renvoie l&rsquo;enregistrement identifié par <code>id</code>.</li><li><code>POST my-table</code> : création d&rsquo;un nouvel enregistrement avec les données contenues dans le corps de la requête.</li></ul></section><section><h2 id=application-1>Application</h2><p><a href=https://github.com/ensc-mobi/MyMoviesNative>https://github.com/ensc-mobi/MyMoviesNative</a></p><p><img src=images/mymoviesnative.png alt="MyMoviesNative demo"></p></section><section><h2 id=classe-métier-film>Classe métier film</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Movie</span> {
  <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>observable</span> <span style=color:#a6e22e>id</span>;
  <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>observable</span> <span style=color:#a6e22e>title</span>;
  <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>  <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>observable</span> <span style=color:#a6e22e>image</span>;

  <span style=color:#a6e22e>constructor</span>(
    <span style=color:#a6e22e>id</span>,
    <span style=color:#a6e22e>title</span>,
    <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>image</span>
  ) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>id</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>title</span>;
    <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>;
  }
}
</code></pre></div></section><section><h2 id=accès-au-sgbdr>Accès au SGBDR</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rootEndpoint</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://localhost/mymovies/api.php/records&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>headers</span> <span style=color:#f92672>=</span> {
  <span style=color:#e6db74>&#34;Content-Type&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;application/json&#34;</span>,
  <span style=color:#a6e22e>Accept</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;application/json&#34;</span>
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getAllMovies</span> <span style=color:#f92672>=</span> () =&gt;
  <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>rootEndpoint</span><span style=color:#e6db74>}</span><span style=color:#e6db74>/movie/`</span>, { <span style=color:#a6e22e>headers</span> })
    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>response</span> =&gt; <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>())
    .<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>jsonResponse</span> =&gt; <span style=color:#a6e22e>jsonResponse</span>.<span style=color:#a6e22e>records</span>)
    .<span style=color:#66d9ef>catch</span>(<span style=color:#a6e22e>error</span> =&gt; {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>error</span>);
    });
</code></pre></div></section><section><h2 id=récupération-de-la-liste-des-films>Récupération de la liste des films</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MovieStore</span> {
  <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>observable</span> <span style=color:#a6e22e>movies</span>;
  <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>
  <span style=color:#a6e22e>fetchAll</span>() {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>movies</span> <span style=color:#f92672>=</span> [];
    <span style=color:#a6e22e>getAllMovies</span>().<span style=color:#a6e22e>then</span>(<span style=color:#a6e22e>movies</span> =&gt; {
      <span style=color:#75715e>//console.log(movies);
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>movies</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>movieData</span> =&gt; {
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>movie</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Movie</span>(
          <span style=color:#a6e22e>movieData</span>.<span style=color:#a6e22e>mov_id</span>,
          <span style=color:#a6e22e>movieData</span>.<span style=color:#a6e22e>mov_title</span>,
          <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>          <span style=color:#a6e22e>movieData</span>.<span style=color:#a6e22e>mov_image</span>
        );
        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>movies</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>movie</span>, ...<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>movies</span>];
      });
    });
  }
}
</code></pre></div></section><section><h2 id=vue-principale>Vue principale</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HomeScreen</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
  <span style=color:#a6e22e>render</span>() {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>movieStore</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>MovieStore</span>();
    <span style=color:#75715e>// All React Navigation screens receive this object as prop
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>navigation</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>;

    <span style=color:#75715e>// Navigation object is passed down to children components
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>MainView</span> <span style=color:#a6e22e>movieStore</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>movieStore</span>} <span style=color:#a6e22e>navigation</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>navigation</span>} /&gt;;
  }
}
</code></pre></div></section><section><h2 id=affichage-dun-film-dans-la-liste>Affichage d&rsquo;un film dans la liste</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>observer</span>
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MovieItem</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
  <span style=color:#a6e22e>render</span>() {
    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>movie</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>;
    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>navigation</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>;

    <span style=color:#66d9ef>return</span> (
      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>View</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>container</span>}<span style=color:#f92672>&gt;</span>
        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>TouchableOpacity</span>
          <span style=color:#a6e22e>onPress</span><span style=color:#f92672>=</span>{() =&gt; {
            <span style=color:#a6e22e>navigation</span>.<span style=color:#a6e22e>navigate</span>(<span style=color:#e6db74>&#34;Details&#34;</span>, {
              <span style=color:#a6e22e>movie</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>movie</span>
            });
          }}
        <span style=color:#f92672>&gt;</span>
          <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Text</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>text</span>}<span style=color:#f92672>&gt;</span>
            {<span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>title</span>} ({<span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>year</span>})
          <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Text&gt;</span>
        <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/TouchableOpacity&gt;</span>
      <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/View&gt;</span>
    );
  }
}
</code></pre></div></section><section><h2 id=détails-sur-un-film>Détails sur un film</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DetailsScreen</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
  <span style=color:#a6e22e>render</span>() {
    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>navigation</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>;
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>movie</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>navigation</span>.<span style=color:#a6e22e>getParam</span>(<span style=color:#e6db74>&#34;movie&#34;</span>);
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>imageUrl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagesEndpoint</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>image</span>;

    <span style=color:#66d9ef>return</span> (
      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>View</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>container</span>}<span style=color:#f92672>&gt;</span>
        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Text</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>title</span>}<span style=color:#f92672>&gt;</span>
          {<span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>title</span>} ({<span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>year</span>})
        <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Text&gt;</span>
        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Text</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>director</span>}<span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Réalisateur</span>(<span style=color:#a6e22e>s</span>) <span style=color:#f92672>:</span> {<span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>director</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Text&gt;</span>
        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Text</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>description</span>}<span style=color:#f92672>&gt;</span>{<span style=color:#a6e22e>movie</span>.<span style=color:#a6e22e>shortDescription</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Text&gt;</span>
        <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Image</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>image</span>} <span style=color:#a6e22e>source</span><span style=color:#f92672>=</span>{{ <span style=color:#a6e22e>uri</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>imageUrl</span> }}<span style=color:#f92672>&gt;&lt;</span><span style=color:#960050;background-color:#1e0010>/Image&gt;</span>
      <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/View&gt;</span>
    );
  }
}
</code></pre></div></section></div></div><div><a href=https://ensc.bordeaux-inp.fr><img src=https://bpesquet.github.io/images/ENSC.jpg style=position:absolute;bottom:10px;left:10px></a></div><script src=https://bpesquet.github.io/reveal.js/dist/reveal.js></script><script>Reveal.initialize({history:false,slideNumber:true,transition:"convex",math:{mathjax:'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',config:'TeX-MML-AM_HTMLorMML'},dependencies:[{src:'https:\/\/bpesquet.github.io\/reveal.js\/plugin\/markdown\/marked.js'},{src:'https:\/\/bpesquet.github.io\/reveal.js\/plugin\/markdown\/markdown.js'},{src:'https:\/\/bpesquet.github.io\/reveal.js\/plugin\/notes\/notes.js',async:true},{src:'https:\/\/bpesquet.github.io\/reveal.js\/plugin\/zoom-js\/zoom.js',async:true},{src:'https:\/\/bpesquet.github.io\/reveal.js\/plugin\/highlight\/highlight.js',async:true,callback:function(){hljs.initHighlightingOnLoad();}},{src:'https:\/\/bpesquet.github.io\/reveal.js\/plugin\/math\/math.js',async:true}]});</script></body></html>