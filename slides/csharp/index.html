<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>C# : rappels et compléments</title><link rel=stylesheet href=https://www.bpesquet.fr/reveal.js/dist/reveal.css><link rel=stylesheet href=https://www.bpesquet.fr/reveal.js/dist/theme/white.css></head><body><div class=reveal><div class=slides><section><h1>C# : rappels et compléments</h1><p><a href=https://ensc.bordeaux-inp.fr>Ecole Nationale Supérieure de Cognitique</a></p><p><a href=https://www.bpesquet.fr>Baptiste Pesquet</a></p></section><section><h2 id=sommaire>Sommaire</h2><ul><li>Rappels sur la POO</li><li>Gestion des objets en mémoire</li><li>Gestion des exceptions</li><li>Possibilités syntaxiques récentes</li></ul></section><section><h2 id=rappels-sur-la-poo>Rappels sur la POO</h2></section><section><h3 id=la-poo-en-bref>La POO en bref</h3><ul><li><p><strong>Objet</strong> : entité qui modélise (représente) un élément du domaine étudié.</p></li><li><p>Objet = état + actions.</p></li><li><p>Objet != <strong>classe</strong> :</p><ul><li>Classe : modèle d’objet (type).</li><li>Objet : exemplaire concret, <strong>instance</strong> d’une classe.</li></ul></li><li><p><strong>POO</strong> : paradigme d&rsquo;écriture de logiciels sous forme d’objets en interaction</p></li></ul></section><section><h3 id=représentation-graphique-dune-classe>Représentation graphique d&rsquo;une classe</h3><p>Le standard : diagramme de classes <strong>UML</strong>.</p><p><img src=images/uml_class_diagram.png alt="Exemple de diagramme UML"></p></section><section><h3 id=notion-de-propriété-en-c>Notion de propriété en C#</h3><ul><li>Propriété au sens de la majorité des langages à objets = <strong>attribut</strong> ou <strong>champ</strong>.</li><li>Propriété au sens du C# = <strong>accesseur</strong> vers un attribut.</li><li>Les propriétés permettent de concilier accès aux données de l’objet et <strong>encapsulation</strong>.</li></ul></section><section><h3 id=propriété-avec-attribut-explicite>Propriété avec attribut explicite</h3><p>Déclaration explicite de l’attribut (le plus souvent <strong>privé</strong>).</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=color:#fb660a;font-weight:700>private</span> <span style=color:#cdcaa9;font-weight:700>string</span> titulaire;
<span style=color:#fb660a;font-weight:700>public</span> <span style=color:#cdcaa9;font-weight:700>string</span> Titulaire {
    <span style=color:#fb660a;font-weight:700>get</span> { <span style=color:#fb660a;font-weight:700>return</span> titulaire; }
    <span style=color:#fb660a;font-weight:700>set</span> { titulaire = <span style=color:#fb660a;font-weight:700>value</span>; }
}
<span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>monCompte.Titulaire = <span style=color:#0086d2>&#34;Marco&#34;</span>;
</code></pre></div><p>Avantage : possibilité de contrôles dans les accesseurs (validation de la novuelle valeur, etc).</p></section><section><h3 id=propriété-auto-implémentée>Propriété auto-implémentée</h3><p>Création implicite de l’attribut par le langage.</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#fb660a;font-weight:700>public</span> <span style=color:#cdcaa9;font-weight:700>string</span> Titulaire { <span style=color:#fb660a;font-weight:700>get</span>; <span style=color:#fb660a;font-weight:700>set</span>; }
<span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>monCompte.Titulaire = <span style=color:#0086d2>&#34;Marco&#34;</span>;
</code></pre></div><ul><li>Avantage : concision.</li><li>Bien adaptée aux cas simples (sans besoin de logique).</li></ul></section><section><h2 id=gestion-des-objets-en-mémoire>Gestion des objets en mémoire</h2></section><section><h3 id=classe-dexemple>Classe d&rsquo;exemple</h3><p><img src=images/example_class.png alt="Classe d&rsquo;exemple"></p></section><section><h3 id=affectation-entre-entiers>Affectation entre entiers</h3><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#cdcaa9;font-weight:700>int</span> nombre1;
nombre1 = <span style=color:#0086f7;font-weight:700>5</span>;

<span style=color:#cdcaa9;font-weight:700>int</span> nombre2 = <span style=color:#0086f7;font-weight:700>3</span>;
nombre2 = nombre1;

nombre1 = <span style=color:#0086f7;font-weight:700>10</span>;

Console.WriteLine(<span style=color:#0086d2>&#34;nombre1 = &#34;</span> + nombre1); <span style=color:#080;background-color:#0f140f;font-style:italic>// 10
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>Console.WriteLine(<span style=color:#0086d2>&#34;nombre2 = &#34;</span> + nombre2); <span style=color:#080;background-color:#0f140f;font-style:italic>// 5
</span></code></pre></div></section><section><section data-shortcode-section><h3 id=affectation-entre-objets>Affectation entre objets</h3><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp>Cercle cercle1;
cercle1 = <span style=color:#fb660a;font-weight:700>new</span> Cercle(<span style=color:#0086f7;font-weight:700>5</span>);
<p>Cercle cercle2 = <span style=color:#fb660a;font-weight:700>new</span> Cercle(<span style=color:#0086f7;font-weight:700>3</span>);
cercle2 = cercle1;</p>
<p>cercle1.Rayon = <span style=color:#0086f7;font-weight:700>10</span>;</p>
<p>Console.WriteLine(<span style=color:#0086d2>&quot;cercle1.Rayon = &quot;</span> + cercle1.Rayon); <span style=color:#080;background-color:#0f140f;font-style:italic>// 10
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>Console.WriteLine(<span style=color:#0086d2>&quot;cercle2.Rayon = &quot;</span> + cercle2.Rayon); <span style=color:#080;background-color:#0f140f;font-style:italic>// ?
</span></code></pre></div></section><section></p><p><img src=images/object_result.png alt="Réssultat de l&rsquo;exécution"></p><p><img src=images/omg.png alt=OMG></p></section></section><section><section data-shortcode-section><h3 id=types-valeur>Types valeur</h3><ul><li>Type pour lequel la valeur est directement stockée dans la variable.</li><li>Types de bases C# : <code>int</code>, <code>float</code>, <code>double</code>&mldr;</li><li>Création d’une variable => réservation d’une zone mémoire pour stocker sa valeur.</li></ul></section><section><p><img src=images/value_types.png alt="Exemple avec types valeur"></section></section><section><section data-shortcode-section><h3 id=types-reference>Types référence</h3><ul><li>Type pour lequel l&rsquo;instanciation d’un exemplaire déclenche la réservation d’une zone mémoire pour ses données, mais la &ldquo;valeur&rdquo; de l’exemplaire est une <strong>référence</strong> vers cette zone.</li><li>Exemples : objets et tableaux.</li></ul></section><section><p><img src=images/reference_types.png alt="Exemple avec types référence"></section></section><section><section data-shortcode-section><h3 id=types-référence-et-affectation>Types référence et affectation</h3><ul><li>La valeur de la variable source (une référence) est copiée dans la variable cible.</li><li>Les deux variables <em>pointent</em> vers la même zone mémoire</li></ul></section><section><p><img src=images/reference_types_assignment.png alt="Diagramme d&rsquo;exécution"></section></section><section><section data-shortcode-section><h3 id=passage-dun-type-valeur-en-parametre>Passage d’un type valeur en paramètre</h3><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#fb660a;font-weight:700>static</span> <span style=color:#fb660a;font-weight:700>void</span> Main(<span style=color:#cdcaa9;font-weight:700>string</span>[] args) {
    <span style=color:#cdcaa9;font-weight:700>int</span> nombre = <span style=color:#0086f7;font-weight:700>5</span>;
    Console.WriteLine(<span style=color:#0086d2>&#34;Avant l&#39;appel, nombre = &#34;</span> + nombre); <span style=color:#080;background-color:#0f140f;font-style:italic>// 5
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    Augmenter(nombre);
    Console.WriteLine(<span style=color:#0086d2>&#34;Après l&#39;appel, nombre = &#34;</span> + nombre); <span style=color:#080;background-color:#0f140f;font-style:italic>// ?
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
<span style=color:#fb660a;font-weight:700>static</span> <span style=color:#fb660a;font-weight:700>void</span> Augmenter(<span style=color:#cdcaa9;font-weight:700>int</span> unNombre) {
    Console.WriteLine(<span style=color:#0086d2>&#34;Avant l&#39;augmentation, unNombre = &#34;</span> + unNombre);
    unNombre = unNombre + <span style=color:#0086f7;font-weight:700>1</span>;
    Console.WriteLine(<span style=color:#0086d2>&#34;Après l&#39;augmentation, unNombre = &#34;</span> + unNombre);
}
</code></pre></div></section><section><h3 id=résultat-de-lexécution>Résultat de l&rsquo;exécution</h3><p><img src=images/value_types_parameter_passing.png alt="Résultat de l&rsquo;exécution"></p><ul><li>La valeur de l’argument (un nombre entier) est copiée dans le paramètre.</li><li>Argument et paramètre correspondent à des zones mémoire différentes.</li></ul></section><section><p><img src=images/value_types_parameter_passing_diagram.png alt="Diagramme d&rsquo;exécution"></p></section></section><section><section data-shortcode-section><h3 id=passage-dun-objet-en-parametre>Passage d’un objet en paramètre</h3><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#fb660a;font-weight:700>static</span> <span style=color:#fb660a;font-weight:700>void</span> Main(<span style=color:#cdcaa9;font-weight:700>string</span>[] args) {
    Cercle cercle = <span style=color:#fb660a;font-weight:700>new</span> Cercle(<span style=color:#0086f7;font-weight:700>5</span>);
    Console.WriteLine(<span style=color:#0086d2>&#34;Avant l&#39;appel, cercle.Rayon = &#34;</span> + cercle.Rayon); <span style=color:#080;background-color:#0f140f;font-style:italic>// 5
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    AugmenterRayon(cercle);
    Console.WriteLine(<span style=color:#0086d2>&#34;Après l&#39;appel, cercle.Rayon = &#34;</span> + cercle.Rayon); <span style=color:#080;background-color:#0f140f;font-style:italic>// ?
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
<span style=color:#fb660a;font-weight:700>static</span> <span style=color:#fb660a;font-weight:700>void</span> AugmenterRayon(Cercle unCercle) {
    Console.WriteLine(<span style=color:#0086d2>&#34;Avant l&#39;augmentation, unCercle.Rayon = &#34;</span> + unCercle.Rayon);
    unCercle.Rayon = unCercle.Rayon + <span style=color:#0086f7;font-weight:700>1</span>;
    Console.WriteLine(<span style=color:#0086d2>&#34;Après l&#39;augmentation, unCercle.Rayon = &#34;</span> + unCercle.Rayon);
}
</code></pre></div></section><section><h3 id=résultat-de-lexécution>Résultat de l&rsquo;exécution</h3><p><img src=images/object_parameter_passing.png alt="Résultat de l&rsquo;exécution"></p><ul><li>La valeur de l’argument (une <strong>référence</strong>) est copiée dans le paramètre.</li><li>Argument et paramètre pointent vers la même zone mémoire.</li></ul></section><section><p><img src=images/object_parameter_passing_diagram.png alt="Diagramme d&rsquo;exécution"></p></section></section><section><h3 id=mode-de-passage-des-parametres-en-c>Mode de passage des paramètres en C#</h3><ul><li>Par défaut, <strong>tous les paramètres sont passés par valeur</strong>.</li><li>Types valeur : valeur copiée de l’argument vers le paramètre => zones mémoire distinctes.</li><li>Types référence : référence copiée de l’argument vers le paramètre => même zone mémoire.</li><li>Possibilité de modifier ce comportement avec les mots-clés <code>ref</code> et <code>out</code>.</li></ul></section><section><h2 id=gestion-des-exceptions>Gestion des exceptions</h2></section><section><h3 id=introduction>Introduction</h3><ul><li><strong>Exception</strong> : évènement qui apparaît pendant le déroulement d&rsquo;un programme et qui empêche la poursuite normale de son exécution<ul><li>Exemples : BD inaccessible, fichier non trouvé, bug interne…</li></ul></li><li>Gestion des exceptions : technique de gestion des erreurs dans un programme</li><li>Avantage : séparation du code applicatif du code de gestion des erreurs</li></ul></section><section><h3 id=les-exceptions--syntaxe>Les exceptions : syntaxe</h3><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#fb660a;font-weight:700>try</span> {
    <span style=color:#080;background-color:#0f140f;font-style:italic>// code susceptible de lever des exceptions
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
<span style=color:#fb660a;font-weight:700>catch</span> (Exception e) {
    <span style=color:#080;background-color:#0f140f;font-style:italic>// code de gestion de l’exception apparue
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
<span style=color:#fb660a;font-weight:700>finally</span> {
    <span style=color:#080;background-color:#0f140f;font-style:italic>// code exécuté systématiquement
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</code></pre></div><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#080;background-color:#0f140f;font-style:italic>// levée d’une nouvelle exception
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>throw</span> <span style=color:#fb660a;font-weight:700>new</span> Exception(<span style=color:#0086d2>&#34;Message d’erreur&#34;</span>);
</code></pre></div></section><section><section data-shortcode-section><h3 id=les-exceptions--dynamique>Les exceptions : dynamique</h3><ul><li>Une exception levée remonte la chaîne des appels dans l&rsquo;ordre inverse.</li><li>Issues possibles :<ul><li>interception dans un bloc <code>catch</code>.</li><li>arrêt brutal du programme.</li></ul></li></ul></section><section><p><img src=images/exceptionx_dynamic.png alt="Dynamique des exceptions"></section></section><section><h3 id=la-hiérarchie-des-exceptions>La hiérarchie des exceptions</h3><p><img src=images/exceptions_hierarchy.png alt="Hiérarchie des exceptions"></p></section><section><h3 id=création-de-classes-dexceptions>Création de classes d&rsquo;exceptions</h3><p>Potentiellement utile pour distinguer différentes catégories d&rsquo;erreur, avec des données spécifiques.</p><p><img src=images/exceptions_classes.png alt="Classes d&rsquo;exceptions"></p></section><section><h3 id=exceptions-et-bonnes-pratiques-13>Exceptions et bonnes pratiques (1/3)</h3><ul><li>Lever une exception uniquement pour signaler qu’une exécution normale n’est plus possible.</li><li>Ne pas utiliser les exceptions pour des situations non exceptionnelles (succès d’une recherche, fin d’une itération, etc).</li></ul><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp>i = <span style=color:#0086f7;font-weight:700>0</span>;
trouve = <span style=color:#fb660a;font-weight:700>false</span>;
<span style=color:#fb660a;font-weight:700>while</span> (!trouve) {
  i++;
  <span style=color:#fb660a;font-weight:700>if</span> (i == <span style=color:#0086f7;font-weight:700>10</span>)
    <span style=color:#fb660a;font-weight:700>throw</span> <span style=color:#fb660a;font-weight:700>new</span> Exception(<span style=color:#0086d2>&#34;Fin de la boucle&#34;</span>); <span style=color:#080;background-color:#0f140f;font-style:italic>// Antipattern
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>else</span> <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</code></pre></div></section><section><section data-shortcode-section><h3 id=exceptions-et-bonnes-pratiques-23>Exceptions et bonnes pratiques (2/3)</h3><ul><li>Intercepter les exceptions uniquement si un traitement approprié est possible (message d’erreur, nouvelle tentative, etc)</li><li>Sinon, la laisser remonter la chaîne des appels vers un meilleur endroit.</li></ul></section><section><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#fb660a;font-weight:700>try</span> {
  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
<span style=color:#fb660a;font-weight:700>catch</span> (Exception e) {
  <span style=color:#fb660a;font-weight:700>throw</span> e; <span style=color:#080;background-color:#0f140f;font-style:italic>// Antipattern : bloc inutile
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</code></pre></div><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#fb660a;font-weight:700>try</span> {
  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
<span style=color:#fb660a;font-weight:700>catch</span> (Exception) {
  <span style=color:#080;background-color:#0f140f;font-style:italic>// Antipattern : exception &#34;avalée&#34;
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</code></pre></div></section></section><section><h3 id=exceptions-et-bonnes-pratiques-33>Exceptions et bonnes pratiques (3/3)</h3><ul><li>Bien réfléchir avant de créer ses propres classes d’exception.<ul><li>En deça d’une certaine complexité, utiliser la classe standard <code>Exception</code> suffit souvent.</li><li>Toujours inclure le mot <em>Exception</em> dans le nom de la classe.</li></ul></li><li>Code de gestion des erreurs <code>&lt;&lt;</code> code applicatif.</li></ul></section><section><h2 id=possibilités-syntaxiques-récentes>Possibilités syntaxiques récentes</h2></section><section><section data-shortcode-section><h3 id=variables-sans-type-explicite>Variables sans type explicite</h3><p>Le mot-clé <code>var</code> permet de déclarer des variables <em>implicitement typées</em>.</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#cdcaa9;font-weight:700>int</span> i = <span style=color:#0086f7;font-weight:700>10</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Typage explicite
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#cdcaa9;font-weight:700>var</span> i = <span style=color:#0086f7;font-weight:700>10</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Typage implicite
</span></code></pre></div><p>Usage possible 1 : simplification du code de création d&rsquo;objets (pas de répétition du type)</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#cdcaa9;font-weight:700>var</span> l = <span style=color:#fb660a;font-weight:700>new</span> List&lt;<span style=color:#cdcaa9;font-weight:700>int</span>&gt;();
l.Add(<span style=color:#0086f7;font-weight:700>3</span>);
<span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></code></pre></div></section><section><p>Usage possible 2 : non-nécessité de créer un type spécifique pour le résultat d&rsquo;une opération.</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#080;background-color:#0f140f;font-style:italic>// var est nécessaire car la clause SELECT définit un type anonyme
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#cdcaa9;font-weight:700>var</span> custQuery = <span style=color:#fb660a;font-weight:700>from</span> cust <span style=color:#fb660a;font-weight:700>in</span> customers
                <span style=color:#fb660a;font-weight:700>where</span> cust.City == <span style=color:#0086d2>&#34;Bordeaux&#34;</span>
                <span style=color:#fb660a;font-weight:700>select</span> <span style=color:#fb660a;font-weight:700>new</span> { cust.Name, cust.Phone };
<span style=color:#080;background-color:#0f140f;font-style:italic>// Var est nécessaire car chaque élément de la collection est un type anonyme
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>foreach</span> (<span style=color:#cdcaa9;font-weight:700>var</span> item <span style=color:#fb660a;font-weight:700>in</span> custQuery)
{
    Console.WriteLine(<span style=color:#0086d2>&#34;Nom={0}, Téléphone={1}&#34;</span>, item.Name, item.Phone);
}
</code></pre></div></section></section><section><h3 id=chaînes-de-caractères-interpolées>Chaînes de caractères interpolées</h3><p>Placé juste avant le début d&rsquo;une chaîne, le caractère <code>$</code> permet d&rsquo;y insérer des expressions entre accolades <code>{...}</code> qui seront évaluées pour produire la valeur de la chaîne.</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#cdcaa9;font-weight:700>string</span> name = <span style=color:#0086d2>&#34;Clément&#34;</span>;
<span style=color:#cdcaa9;font-weight:700>var</span> date = DateTime.Now;

Console.WriteLine(<span style=color:#0086d2>&#34;Hello, {0}! Today is {1}&#34;</span>, name, date.DayOfWeek);
Console.WriteLine(<span style=color:#0086d2>$&#34;Hello, {name}! Today is {date.DayOfWeek}&#34;</span>);
<span style=color:#080;background-color:#0f140f;font-style:italic>// Ces deux lignes produisent un résultat identique, similaire à :
</span><span style=color:#080;background-color:#0f140f;font-style:italic>// &#34;Hello, Clément! Today is Monday&#34;
</span></code></pre></div></section><section><h3 id=types-valeur-nullables>Types valeur nullables</h3><p>Un type valeur auquel on accole le caractère <code>?</code> peut stocker la valeur <code>null</code> en plus de sa plage de valeurs habituelle.</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#cdcaa9;font-weight:700>int</span> a = <span style=color:#fb660a;font-weight:700>null</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Erreur: ce type de peut stocker que des valeurs entières
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#cdcaa9;font-weight:700>int?</span> b = <span style=color:#fb660a;font-weight:700>null</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// OK
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#cdcaa9;font-weight:700>int</span> c = b ?? -<span style=color:#0086f7;font-weight:700>1</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Conversion vers le type int
</span></code></pre></div><p>Les types nullables facilitent la gestion des valeurs indéfinies (exemple : absence de valeur pour une colonne dans une BD).</p></section><section><h3 id=annotations>Annotations</h3><p>Les <strong>annotations</strong>, également appelées <em>attributs</em>, permettent d&rsquo;ajouter des <strong>métadonnées</strong> (des informations supplémentaires) à certains éléments du code : types, méthodes, propriétés&mldr;</p><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#ff0086;font-weight:700>[Serializable]</span>
<span style=color:#fb660a;font-weight:700>public</span> <span style=color:#fb660a;font-weight:700>class</span> ClasseExemple
{
    <span style=color:#080;background-color:#0f140f;font-style:italic>// Les instances de cette classe sont sérialisables
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</code></pre></div><div class=highlight><pre style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=color:#080;background-color:#0f140f;font-style:italic>// Cette propriété est associée à un type BD spécifique
</span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#ff0086;font-weight:700>[DataType(DataType.Date)]</span>
<span style=color:#fb660a;font-weight:700>public</span> DateTime ReleaseDate { <span style=color:#fb660a;font-weight:700>get</span>; <span style=color:#fb660a;font-weight:700>set</span>; }
</code></pre></div></section></div></div><div><a href=https://ensc.bordeaux-inp.fr><img src=https://www.bpesquet.fr/images/ENSC.jpg style=position:absolute;bottom:10px;left:10px></a></div><script src=https://www.bpesquet.fr/reveal.js/dist/reveal.js></script><script src=https://www.bpesquet.fr/reveal.js/plugin/math/math.js></script><script>Reveal.initialize({history:false,slideNumber:true,transition:"convex",math:{mathjax:'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',config:'TeX-MML-AM_HTMLorMML'},dependencies:[{src:'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/markdown\/marked.js'},{src:'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/markdown\/markdown.js'},{src:'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/notes\/notes.js',async:true},{src:'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/zoom-js\/zoom.js',async:true},{src:'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/highlight\/highlight.js',async:true,callback:function(){hljs.initHighlightingOnLoad();}},],plugins:[RevealMath]});</script></body></html>