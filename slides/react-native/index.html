<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>React Native</title><link rel=stylesheet href=https://www.bpesquet.fr/reveal.js/dist/reveal.css><link rel=stylesheet href=https://www.bpesquet.fr/reveal.js/dist/theme/white.css></head><body><div class=reveal><div class=slides><section><h1>React Native</h1><p><a href=https://ensc.bordeaux-inp.fr>Ecole Nationale Supérieure de Cognitique</a></p><p><a href=https://www.bpesquet.fr>Baptiste Pesquet</a></p></section><section><h2 id=sommaire>Sommaire
<span><a href=#sommaire><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><ul><li>Introduction</li><li>Composants React Native</li><li>Gestion de l&rsquo;UI</li><li>Gestion de l&rsquo;état</li><li>Navigation</li><li>Utilisation d&rsquo;API web</li></ul></section><section><h2 id=introduction>Introduction
<span><a href=#introduction><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=lécosystème-mobile>L&rsquo;écosystème mobile
<span><a href=#l%c3%a9cosyst%c3%a8me-mobile><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Absence de monopole.</li><li>Deux poids lourds : Android et iOS.</li><li>Parts de marché stables depuis plusieurs années.</li></ul></section><section><p><img src=images/smartphone_market_share_2016.jpg alt="Smartphone platform market share"></p></section><section><p><img src=images/market-share-2015_2019.png alt="Market share evolution 2015-2019"></p></section><section><p><img src=images/os-fragmentation_2018.jpg alt="Mobile OS Fragmentation"></p></section><section><section data-shortcode-section><h3 id=développement-mobile-natif>Développement mobile natif
<span><a href=#d%c3%a9veloppement-mobile-natif><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Création d&rsquo;applications en utilisant la technologie prévue par le concepteur de l&rsquo;OS.</p><ul><li>Android : Java</li><li>IOS : Objective-C ou Swift</li></ul><p class=fragment>Ces technologies sont <strong>incompatibles</strong>.</p></section><section><h3 id=avantages>Avantages
<span><a href=#avantages><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Accès à l&rsquo;intégralité des fonctionnalités matérielles et logicielles du terminal mobile.</li><li>Performances optimales.</li></ul></section><section><h3 id=inconvénient-majeur->Inconvénient (majeur !)
<span><a href=#inconv%c3%a9nient-majeur-><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Nécessité de créer puis de faire évoluer une application pour chaque environnement.</p></section></section><section><section data-shortcode-section><h3 id=solutions-hybrides>Solutions hybrides
<span><a href=#solutions-hybrides><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Création d&rsquo;applications mobiles compatibles avec plusieurs OS mobiles grâce à un framework dédié.</p><p>Une application hybride est une application web qui s&rsquo;exécute à l&rsquo;intérieur d&rsquo;un navigateur.</p><p>Exemples : <a href=https://cordova.apache.org>Apache Cordova</a>, <a href=https://ionicframework.com>Ionic</a></p></section><section><h3 id=avantages>Avantages
<span><a href=#avantages><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Fonctionnalités et performances proches de celles d&rsquo;une application native.</li><li>Economies de ressources pour créer l&rsquo;application.</li><li>Une seule base de code : maintenance et évolution facilitées.</li></ul></section><section><h3 id=inconvénients>Inconvénients
<span><a href=#inconv%c3%a9nients><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Impossible d&rsquo;accéder à certaines fonctionnalités matérielles ou logicielles spécifiques.</li><li><em>Look&rsquo;n&rsquo;feel</em> non natif.</li><li>Mauvaises performances dans certains scenarii.</li></ul></section></section><section><section data-shortcode-section><h3 id=développement-natif-multi-plateformes>Développement natif multi-plateformes
<span><a href=#d%c3%a9veloppement-natif-multi-plateformes><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Création d&rsquo;applications mobiles compatibles avec plusieurs OS mobiles grâce à un framework dédié.</p><p>Le framework encapsule les véritables composants natifs de l&rsquo;OS.</p><p>Exemples : <a href=https://facebook.github.io/react-native/>React Native</a>, <a href=https://weex.apache.org/>Weex</a>, <a href=https://www.visualstudio.com/fr/xamarin/>Xamarin</a></p></section><section><h3 id=le-meilleur-des-deux-mondes->Le meilleur des deux mondes ?
<span><a href=#le-meilleur-des-deux-mondes-><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Combine les avantages du natif (<em>look&rsquo;n&rsquo;feel</em>, performances) et de l&rsquo;hybride (une seule base de code).</p><p>Limite potentielle : le support de l&rsquo;OS dépend entièrement du framework.</p></section></section><section><h3 id=react-native>React Native
<span><a href=#react-native><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Framework créé par Facebook, open source depuis 2015.</p><p>Déclinaison mobile du framework JavaScript <a href=https://reactjs.org/>React</a>.</p><p><img src=images/reactjs.png alt="React logo"></p></section><section><h3 id=expo>Expo
<span><a href=#expo><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Framework pour faciliter la création et le déploiement d&rsquo;applications React Native.</p><p><a href=https://expo.dev/><img src=images/expo_logo.png alt="Expo logo"></a></p><ul><li><a href=https://github.com/expo/expo-cli>Expo CLI</a> : outil en ligne de commande pour le développement local.</li><li><a href=https://expo.io>Expo Go</a> : application mobile à installer sur le terminal cible pour le déploiement.</li></ul></section><section><h3 id=création-dune-application>Création d&rsquo;une application
<span><a href=#cr%c3%a9ation-dune-application><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Install expo-cli globally</span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># (Node.js and Git are prerequisites)</span>
</span></span><span style=display:flex><span>npm install -g expo-cli
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Create a new app in the my-new-project subfolder</span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Use managed TypeScript template</span>
</span></span><span style=display:flex><span>expo init my-new-project -t expo-template-blank-typescript
</span></span></code></pre></div><ul><li><p>Workflow <em>managé</em> : projet entièrement géré par Expo (plus simple).</p></li><li><p>Workflow <em>bare</em> : plus proche d&rsquo;un projet React Native pur.</p></li></ul></section><section><h3 id=contenu-du-répertoire-créé>Contenu du répertoire créé
<span><a href=#contenu-du-r%c3%a9pertoire-cr%c3%a9%c3%a9><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><img src=images/rn-app-structure.png alt="Arborescence React Native"></p></section><section><h3 id=déploiement-de-lapplication>Déploiement de l&rsquo;application
<span><a href=#d%c3%a9ploiement-de-lapplication><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd my-new-project <span style=color:#080;background-color:#0f140f;font-style:italic># move into project directory</span>
</span></span><span style=display:flex><span>npm start <span style=color:#080;background-color:#0f140f;font-style:italic># Or &#39;expo start&#39;</span>
</span></span></code></pre></div><p>Ensuite, scan du QR Code depuis l&rsquo;application Expo Go (Android) ou l&rsquo;appareil photo du smartphone (iOS).</p><p><img src=images/expo_qrcode.png alt="Expo QR Code"></p></section><section><h3 id=détails-sur-le-déploiement>Détails sur le déploiement
<span><a href=#d%c3%a9tails-sur-le-d%c3%a9ploiement><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>L&rsquo;application est hébergée sur un serveur web local.</li><li>Expo s&rsquo;y connecte pour la récupérer puis la lancer.</li><li>Une interface web de gestion s&rsquo;affiche.</li></ul><p><img src=images/expo_management.png alt="Expo Management"></p></section><section><h3 id=rechargement-dynamique>Rechargement dynamique
<span><a href=#rechargement-dynamique><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://openclassrooms.com/fr/courses/4902061-developpez-une-application-mobile-react-native/><img src=images/expo_reload.jpeg alt="Live Reload"></a></p></section><section><h3 id=connexion-au-serveur-expo>Connexion au serveur Expo
<span><a href=#connexion-au-serveur-expo><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>L&rsquo;application mobile Expo client doit accéder au serveur web de la machine de développement pour pouvoir lancer l&rsquo;application RN.</p><p>Il existe plusieurs modes de connexion :</p><ul><li><strong>LAN</strong> : utilisation du réseau Wifi local. Peut poser problème dans certains environnements Wifi sécurisés.</li><li><strong>Tunnel</strong> : création d&rsquo;un tunnel avec <a href=https://ngrok.com/>ngrok</a> pour accéder au serveur local via le web. Nécessite que le terminal mobile dispose d&rsquo;un accès internet.</li></ul></section><section><h3 id=utilisation-dun-émulateur>Utilisation d&rsquo;un émulateur
<span><a href=#utilisation-dun-%c3%a9mulateur><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Alternative à l&rsquo;emploi d&rsquo;un terminal mobile pour tester l&rsquo;application RN.</li><li>Nécessite l&rsquo;installation de <a href=https://developer.apple.com/xcode/>XCode (iOS)</a> ou <a href=https://developer.android.com/studio>Android Studio</a> sur le machine de développement.</li><li>Documentation : <a href=https://docs.expo.io/workflow/ios-simulator/>iOS</a> | <a href=https://docs.expo.io/workflow/android-studio-emulator/>Android</a>.</li></ul><p><img src=images/expo-emulator.png alt="Expo emulator"></p></section><section><h3 id=le-fichier-de-configuration-appjson>Le fichier de configuration app.json
<span><a href=#le-fichier-de-configuration-appjson><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;expo&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;name&#34;</span>: <span style=color:#0086d2>&#34;My New Project&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;slug&#34;</span>: <span style=color:#0086d2>&#34;my-new-project&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;version&#34;</span>: <span style=color:#0086d2>&#34;1.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;orientation&#34;</span>: <span style=color:#0086d2>&#34;portrait&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;icon&#34;</span>: <span style=color:#0086d2>&#34;./assets/icon.png&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;splash&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;image&#34;</span>: <span style=color:#0086d2>&#34;./assets/splash.png&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;resizeMode&#34;</span>: <span style=color:#0086d2>&#34;contain&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;backgroundColor&#34;</span>: <span style=color:#0086d2>&#34;#ffffff&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;updates&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;fallbackToCacheTimeout&#34;</span>: <span style=color:#0086f7;font-weight:700>0</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;assetBundlePatterns&#34;</span>: [<span style=color:#0086d2>&#34;**/*&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;ios&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;supportsTablet&#34;</span>: <span style=color:#fb660a;font-weight:700>true</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;android&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;adaptiveIcon&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#fb660a;font-weight:700>&#34;foregroundImage&#34;</span>: <span style=color:#0086d2>&#34;./assets/adaptive-icon.png&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#fb660a;font-weight:700>&#34;backgroundColor&#34;</span>: <span style=color:#0086d2>&#34;#FFFFFF&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;web&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;favicon&#34;</span>: <span style=color:#0086d2>&#34;./assets/favicon.png&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=le-fichier-packagejson>Le fichier package.json
<span><a href=#le-fichier-packagejson><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;main&#34;</span>: <span style=color:#0086d2>&#34;node_modules/expo/AppEntry.js&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;start&#34;</span>: <span style=color:#0086d2>&#34;expo start&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;android&#34;</span>: <span style=color:#0086d2>&#34;expo start --android&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;ios&#34;</span>: <span style=color:#0086d2>&#34;expo start --ios&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;web&#34;</span>: <span style=color:#0086d2>&#34;expo start --web&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;eject&#34;</span>: <span style=color:#0086d2>&#34;expo eject&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;dependencies&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;expo&#34;</span>: <span style=color:#0086d2>&#34;~40.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;expo-status-bar&#34;</span>: <span style=color:#0086d2>&#34;~1.0.3&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;react&#34;</span>: <span style=color:#0086d2>&#34;16.13.1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;react-dom&#34;</span>: <span style=color:#0086d2>&#34;16.13.1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;react-native&#34;</span>: <span style=color:#0086d2>&#34;https://github.com/expo/react-native/archive/sdk-40.0.1.tar.gz&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;react-native-web&#34;</span>: <span style=color:#0086d2>&#34;~0.13.12&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;devDependencies&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;@babel/core&#34;</span>: <span style=color:#0086d2>&#34;~7.9.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;@types/react&#34;</span>: <span style=color:#0086d2>&#34;~16.9.35&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;@types/react-dom&#34;</span>: <span style=color:#0086d2>&#34;~16.9.8&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;@types/react-native&#34;</span>: <span style=color:#0086d2>&#34;~0.63.2&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;typescript&#34;</span>: <span style=color:#0086d2>&#34;~4.0.0&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;private&#34;</span>: <span style=color:#fb660a;font-weight:700>true</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=le-fichier-principal-apptsx>Le fichier principal App.tsx
<span><a href=#le-fichier-principal-apptsx><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StatusBar } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;expo-status-bar&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>function</span> App() {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Open up App.tsx to start working on your app!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>StatusBar</span> <span style=color:#ff0086;font-weight:700>style</span>=<span style=color:#0086d2>&#34;auto&#34;</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#cdcaa9;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;#fff&#34;</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=les-formats-jsx-et-tsx>Les formats JSX et TSX
<span><a href=#les-formats-jsx-et-tsx><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Syntaxe introduite pour le framework web <a href=https://reactjs.org/>React</a>.</li><li>Permet de décrire une UI en intégrant balisage et logique applicative.</li><li>TSX : équivalent de JSX avec support de TypeScript.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// JSX for React (web)
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> name = <span style=color:#0086d2>&#34;Clarisse Agbegnenou&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> element = &lt;<span style=color:#fb660a;font-weight:700>h1</span>&gt;Hello, {name}&lt;/<span style=color:#fb660a;font-weight:700>h1</span>&gt;;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// JSX for React Native (mobile)
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> a = &lt;<span style=color:#fb660a;font-weight:700>View</span> /&gt;;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> b = (
</span></span><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>foo</span>=<span style=color:#0086d2>&#34;hello&#34;</span> <span style=color:#ff0086;font-weight:700>bar</span>={baz}&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;<span style=color:#0086f7;font-weight:700>42</span>&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>);
</span></span></code></pre></div></section><section><h2 id=composants-react-native>Composants React Native
<span><a href=#composants-react-native><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=la-notion-de-composant>La notion de composant
<span><a href=#la-notion-de-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><p>Les <strong>composants</strong> sont les blocs de base d&rsquo;une application React (Native).</p></li><li><p>Ils permettent de créer une UI sous forme <strong>déclarative</strong> par assemblage de composants.</p></li><li><p>Ils doivent comporter une fonction qui définit leur rendu visuel.</p></li></ul></section><section><h3 id=composants-fonctions>Composants fonctions
<span><a href=#composants-fonctions><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>La valeur de retour de la fonction définit le rendu.</li><li>Syntaxe la plus concise, pratique pour les composants simples.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { Text } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Cat = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> name = <span style=color:#0086d2>&#34;Maru&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Hello, I am {name}!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> Cat;
</span></span></code></pre></div></section><section><h3 id=composants-classes>Composants classes
<span><a href=#composants-classes><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>La méthode <code>render()</code> définit le rendu.</li><li>Syntaxe à privilégier pour les composants complexes.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { Text } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>class</span> Cat <span style=color:#fb660a;font-weight:700>extends</span> React.Component {
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> name = <span style=color:#0086d2>&#34;Maru&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Hello, I am {name}!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> Cat;
</span></span></code></pre></div></section><section><h3 id=propriétés-_props_-dun-composant>Propriétés (<em>props</em>) d&rsquo;un composant
<span><a href=#propri%c3%a9t%c3%a9s-_props_-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Caractéristiques définies au moment de la création, modifiables uniquement par le composant parent (<a href=https://snack.expo.io/@bpesquet/greeting>démo</a>).</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { Component } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { Text, View } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Function component
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Component has a name property, which is of type string
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> GreetingFun = (props: { name: <span style=color:#cdcaa9;font-weight:700>string</span> }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Hello {props.name}!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Class component
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>class</span> GreetingClass <span style=color:#fb660a;font-weight:700>extends</span> Component {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Component has a name property, which is of type string
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>constructor</span>(<span style=color:#fb660a;font-weight:700>public</span> props: { name: <span style=color:#cdcaa9;font-weight:700>string</span> }) {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>super</span>(props);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Hello {<span style=color:#fb660a;font-weight:700>this</span>.props.name}!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>class</span> LotsOfGreetings <span style=color:#fb660a;font-weight:700>extends</span> Component {
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ alignItems: <span style=color:#0086d2>&#34;center&#34;</span> }}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>GreetingFun</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;John&#34;</span> /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>GreetingClass</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Paul&#34;</span> /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>GreetingFun</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Jones&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=etat-_state_-dun-composant>Etat (<em>state</em>) d&rsquo;un composant
<span><a href=#etat-_state_-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Etat interne (données) d&rsquo;un composant, susceptible de changer au cours du temps (mutable). Modifié uniquement via <code>setState()</code> (<a href=https://snack.expo.dev/@bpesquet/state-2>démo</a>).</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { Component } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, TouchableOpacity, Text, View } <span style=color:#fb660a;font-weight:700>from</span> <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// State shape: a &#34;count&#34; property of type number
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>interface</span> AppState {
</span></span><span style=display:flex><span>  count: <span style=color:#cdcaa9;font-weight:700>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// React.Component is a generic type: Component&lt;PropType, StateType&gt;
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// We can provide it with optionale prop and state shapes
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// {} means an empty shape (no props or state)
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>class</span> App <span style=color:#fb660a;font-weight:700>extends</span> Component&lt;{}, AppState&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Init state
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  state: <span style=color:#cdcaa9;font-weight:700>AppState</span> = {
</span></span><span style=display:flex><span>    count: <span style=color:#cdcaa9;font-weight:700>0</span>,
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Function that updates state, triggering component re-rendering
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  onPress = () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>this</span>.setState({
</span></span><span style=display:flex><span>      count: <span style=color:#cdcaa9;font-weight:700>this.state.count</span> + <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>TouchableOpacity</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.button} <span style=color:#ff0086;font-weight:700>onPress</span>={<span style=color:#fb660a;font-weight:700>this</span>.onPress}&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Click me&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#fb660a;font-weight:700>TouchableOpacity</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;You clicked {<span style=color:#fb660a;font-weight:700>this</span>.state.count} times&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#cdcaa9;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  button: {
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;#DDDDDD&#34;</span>,
</span></span><span style=display:flex><span>    padding: <span style=color:#cdcaa9;font-weight:700>10</span>,
</span></span><span style=display:flex><span>    marginBottom: <span style=color:#cdcaa9;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App;
</span></span></code></pre></div></section><section><h3 id=composants-de-base>Composants de base
<span><a href=#composants-de-base><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><img src=images/basic_components.png alt="React Native core components"></p></section><section><h3 id=composants-dinterface-utilisateur>Composants d&rsquo;interface utilisateur
<span><a href=#composants-dinterface-utilisateur><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><img src=images/ui_components.png alt="React native UI components"></p></section><section><h3 id=cycle-de-vie-dun-composant>Cycle de vie d&rsquo;un composant
<span><a href=#cycle-de-vie-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Les composants RN suivent un cycle de vie bien défini composé d&rsquo;étapes : <strong>montage</strong>, <strong>rendu</strong>, <strong>mise à jour</strong>, <strong>démontage</strong> et <strong>suppression</strong>.</p><p><a href=http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/><img src=images/react-lifecycle.png alt="React lifecycle"></a></p></section><section><h3 id=méthodes-liées-au-cycle-de-vie>Méthodes liées au cycle de vie
<span><a href=#m%c3%a9thodes-li%c3%a9es-au-cycle-de-vie><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Les redéfinir permet d&rsquo;exécuter du code spécifique.</p><ol><li><code>constructor(props)</code> : initialisation des propriétés et de l&rsquo;état.</li><li><code>render()</code> : renvoi d&rsquo;un élément React Native.</li><li><code>componentDidMount()</code> : appels asynchrones.</li><li><code>shouldComponentUpdate()</code> : renvoi d&rsquo;un booléen pour annuler la mise à jour.</li><li><code>componentDidUpdate()</code> : actions après la mise à jour du rendu.</li></ol></section><section><h2 id=gestion-de-lui>Gestion de l&rsquo;UI
<span><a href=#gestion-de-lui><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=gestion-du-style>Gestion du style
<span><a href=#gestion-du-style><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Propriété <code>style</code> pour les composants de base.</p><p>Semblable à CSS avec nommage <em>camelCase</em>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { Component } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  bigblue: {
</span></span><span style=display:flex><span>    color: <span style=color:#0086d2>&#34;blue&#34;</span>,
</span></span><span style=display:flex><span>    fontWeight: <span style=color:#0086d2>&#34;bold&#34;</span>,
</span></span><span style=display:flex><span>    fontSize: <span style=color:#0086f7;font-weight:700>30</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  red: {
</span></span><span style=display:flex><span>    color: <span style=color:#0086d2>&#34;red&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>class</span> LotsOfStyles <span style=color:#fb660a;font-weight:700>extends</span> Component {
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.red}&gt;just red&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.bigblue}&gt;just bigblue&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.bigblue, styles.red]}&gt;bigblue, then red&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.red, styles.bigblue]}&gt;red, then bigblue&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=gestion-des-dimensions>Gestion des dimensions
<span><a href=#gestion-des-dimensions><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Deux possibilités :</p><ul><li>Dimensions fixes</li><li>Dimensions flexibles</li></ul></section><section><h3 id=dimensions-fixes>Dimensions fixes
<span><a href=#dimensions-fixes><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Utile pour les composants qui doivent toujours être affichés à la même taille.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { Component } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>class</span> FixedDimensionsBasics <span style=color:#fb660a;font-weight:700>extends</span> Component {
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span>
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>style</span>={{ width: <span style=color:#0086f7;font-weight:700>50</span>, height: <span style=color:#0086f7;font-weight:700>50</span>, backgroundColor: <span style=color:#0086d2>&#34;powderblue&#34;</span> }}
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ width: <span style=color:#0086f7;font-weight:700>100</span>, height: <span style=color:#0086f7;font-weight:700>100</span>, backgroundColor: <span style=color:#0086d2>&#34;skyblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span>
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>style</span>={{ width: <span style=color:#0086f7;font-weight:700>150</span>, height: <span style=color:#0086f7;font-weight:700>150</span>, backgroundColor: <span style=color:#0086d2>&#34;steelblue&#34;</span> }}
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=dimensions-flexibles>Dimensions flexibles
<span><a href=#dimensions-flexibles><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Les dimensions s&rsquo;adaptent à l&rsquo;espace disponible.</p><p><code>flex:1</code> => espace partagé équitablement entre tous les composants d&rsquo;un même parent (<a href=https://snack.expo.io/@bpesquet/dimensions>démo</a>).</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { Component } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>class</span> FlexDimensionsBasics <span style=color:#fb660a;font-weight:700>extends</span> Component {
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// Try removing the `flex: 1` on the parent View.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// The parent will not have dimensions, so the children can&#39;t expand.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// What if you add `height: 300` instead of `flex: 1`?
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>1</span> }}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>1</span>, backgroundColor: <span style=color:#0086d2>&#34;powderblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>2</span>, backgroundColor: <span style=color:#0086d2>&#34;skyblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>3</span>, backgroundColor: <span style=color:#0086d2>&#34;steelblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=flexbox>Flexbox
<span><a href=#flexbox><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Mode de mise en page pour les éléments situés à l&rsquo;intérieur d&rsquo;un conteneur.</li><li>Objectif : répartir au mieux l&rsquo;espace disponible.</li></ul><p><img src=images/flexbox_terminology.png alt="Flexbox terminology"></p></section><section><h3 id=flexdirection--flux-des-éléments><code>flexDirection</code> : flux des éléments
<span><a href=#flexdirection--flux-des-%c3%a9l%c3%a9ments><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>column</code> (par défaut), <code>row</code>, <code>column-reverse</code>, <code>row-reverse</code>.</p><p><a href=https://css-tricks.com/snippets/css/a-guide-to-flexbox/><img src=images/flexbox_flex_direction.png alt="Flex direction"></a></p></section><section><h3 id=justifycontent--axe-principal><code>justifyContent</code> : axe principal
<span><a href=#justifycontent--axe-principal><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://css-tricks.com/snippets/css/a-guide-to-flexbox/><img src=images/flexbox_justify_content.png alt="Flexbox: justify content"></a></p></section><section><h3 id=alignitems--axe-secondaire><code>alignItems</code> : axe secondaire
<span><a href=#alignitems--axe-secondaire><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://css-tricks.com/snippets/css/a-guide-to-flexbox/><img src=images/flexbox_align_items.png alt="Flexbox: align Items"></a></p></section><section><h2 id=gestion-de-létat>Gestion de l&rsquo;état
<span><a href=#gestion-de-l%c3%a9tat><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=rappels-sur-les-propriétés>Rappels sur les propriétés
<span><a href=#rappels-sur-les-propri%c3%a9t%c3%a9s><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><strong>Propriétés (<em>props</em>)</strong> = caractéristiques définies au moment de la création du composant.</p><p>Les propriétés sont modifiables uniquement par le composant parent.</p></section><section><h3 id=rappels-sur-létat>Rappels sur l&rsquo;état
<span><a href=#rappels-sur-l%c3%a9tat><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><strong>Etat (<em>state</em>)</strong> = ensemble des données susceptibles d&rsquo;être modifiées pendant l&rsquo;exécution de l&rsquo;application.</p><p>Chaque composant React Native possède un état interne, géré avec <code>this.state</code> et <code>this.setState()</code>.</p><p>Toute modification de l&rsquo;état déclenche un nouveau rendu du composant.</p></section><section><h3 id=problématique>Problématique
<span><a href=#probl%c3%a9matique><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>La gestion locale de l&rsquo;état devient insuffisante lorsqu&rsquo;un composant doit <strong>accéder à</strong> ou <strong>modifier</strong> l&rsquo;état d&rsquo;un autre composant.</p><p>Nécessité de partager un état commun entre certains composants.</p></section><section><h3 id=solution--_lifting-state-up_>Solution : <em>&ldquo;lifting state up&rdquo;</em>
<span><a href=#solution--_lifting-state-up_><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Remonter l&rsquo;état au niveau du plus proche composant parent commun.</li><li>Définir les actions de modification dans ce composant parent.</li><li>Dans les composants enfants :<ul><li>Remplacer l&rsquo;état local par des propriétés définies par le parent.</li><li>Remplacer les actions locales par des appels aux actions définies dans le parent.</li></ul></li></ul><p><a href=https://reactjs.org/docs/lifting-state-up.html>Lifting State Up (React)</a></p></section><section><h3 id=application>Application
<span><a href=#application><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/TempConverter>https://github.com/ensc-mobi/TempConverter</a></p><p><img src=images/temp-converter.png alt="TempConverter demo"></p></section><section><h3 id=utilisation-de-props-dans-les-composants-enfants>Utilisation de props dans les composants enfants
<span><a href=#utilisation-de-props-dans-les-composants-enfants><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>interface</span> TemperatureInputProps {
</span></span><span style=display:flex><span>  temperature: <span style=color:#cdcaa9;font-weight:700>string</span>;
</span></span><span style=display:flex><span>  scale: <span style=color:#cdcaa9;font-weight:700>Scale</span>;
</span></span><span style=display:flex><span>  onTemperatureChange: (text: <span style=color:#cdcaa9;font-weight:700>string</span>) =&gt; <span style=color:#fb660a;font-weight:700>void</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Component for displaying and inputting a temperature in a specific scale
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>class</span> TemperatureInput <span style=color:#fb660a;font-weight:700>extends</span> React.Component&lt;<span style=color:#fb660a;font-weight:700>TemperatureInputProps</span>, {}&gt; {
</span></span><span style=display:flex><span>  _onChangeText = (text: <span style=color:#cdcaa9;font-weight:700>string</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Call callback passed as component prop
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#fb660a;font-weight:700>this</span>.props.onTemperatureChange(text);
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> temperature = <span style=color:#fb660a;font-weight:700>this</span>.props.temperature;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> scale = <span style=color:#fb660a;font-weight:700>this</span>.props.scale;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> placeholder = <span style=color:#0086d2>`Enter temperature in </span><span style=color:#0086d2>${</span>scale<span style=color:#0086d2>}</span><span style=color:#0086d2>`</span>;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>TextInput</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>style</span>={styles.text}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>placeholder</span>={placeholder}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onChangeText</span>={<span style=color:#fb660a;font-weight:700>this</span>._onChangeText}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>value</span>={temperature}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=remontée-de-létat-dans-le-composant-parent>Remontée de l&rsquo;état dans le composant parent
<span><a href=#remont%c3%a9e-de-l%c3%a9tat-dans-le-composant-parent><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>class</span> Calculator <span style=color:#fb660a;font-weight:700>extends</span> React.Component&lt;{}, CalculatorState&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Common state is lifted here, the closest parent of TemperatureInput components
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Temperature can be set either in Celsius or in Fahrenheit
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  state = { temperature: <span style=color:#0086d2>&#34;&#34;</span>, scale: <span style=color:#cdcaa9;font-weight:700>Scale.Celsius</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  _onCelsiusChange = (temperature: <span style=color:#cdcaa9;font-weight:700>string</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>this</span>.setState({ scale: <span style=color:#cdcaa9;font-weight:700>Scale.Celsius</span>, temperature });
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  _onFahrenheitChange = (temperature: <span style=color:#cdcaa9;font-weight:700>string</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>this</span>.setState({ scale: <span style=color:#cdcaa9;font-weight:700>Scale.Fahrenheit</span>, temperature });
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span></code></pre></div></section><section><h3 id=appel-aux-actions-définies-dans-le-parent>Appel aux actions définies dans le parent
<span><a href=#appel-aux-actions-d%c3%a9finies-dans-le-parent><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> scale = <span style=color:#fb660a;font-weight:700>this</span>.state.scale;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> temperature = <span style=color:#fb660a;font-weight:700>this</span>.state.temperature;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> tempCelsius =
</span></span><span style=display:flex><span>      scale === Scale.Fahrenheit
</span></span><span style=display:flex><span>        ? tryConvert(temperature, toCelsius)
</span></span><span style=display:flex><span>        : temperature;
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> tempFahrenheit =
</span></span><span style=display:flex><span>      scale === Scale.Celsius
</span></span><span style=display:flex><span>        ? tryConvert(temperature, toFahrenheit)
</span></span><span style=display:flex><span>        : temperature;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>TemperatureInput</span>
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>scale</span>={Scale.Celsius}
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>temperature</span>={tempCelsius}
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>onTemperatureChange</span>={<span style=color:#fb660a;font-weight:700>this</span>._onCelsiusChange}
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>TemperatureInput</span>
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>scale</span>={Scale.Fahrenheit}
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>temperature</span>={tempFahrenheit}
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>onTemperatureChange</span>={<span style=color:#fb660a;font-weight:700>this</span>._onFahrenheitChange}
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>BoilingResult</span> <span style=color:#ff0086;font-weight:700>tempCelsius</span>={parseFloat(tempCelsius)} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></section><section><h2 id=navigation>Navigation
<span><a href=#navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=gestion-de-la-navigation-avec-react-navigation>Gestion de la navigation avec React Navigation
<span><a href=#gestion-de-la-navigation-avec-react-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Composant issu de la communauté des développeurs React Native.</li><li>Devenu le standard pour les applications multi-vues.</li></ul><p><a href=https://reactnavigation.org><img src=images/react_navigation_logo.png alt="React Navigation logo"></a></p></section><section><h3 id=installation-de-react-navigation>Installation de react-navigation
<span><a href=#installation-de-react-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Utiliser <code>expo install</code> au lieu de <code>npm install</code> assure l&rsquo;installation de versions compatibles avec celle d&rsquo;Expo.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Core components and dependencies</span>
</span></span><span style=display:flex><span>expo install @react-navigation/native react-native-screens react-native-safe-area-context
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># StackNavigator dependencies</span>
</span></span><span style=display:flex><span>expo install @react-navigation/native-stack
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># BottomTabNavigator dependencies</span>
</span></span><span style=display:flex><span>expo install @react-navigation/bottom-tabs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># DrawerNavigator dependencies</span>
</span></span><span style=display:flex><span>expo install @react-navigation/drawer
</span></span></code></pre></div></section><section><h3 id=stacknavigator>StackNavigator
<span><a href=#stacknavigator><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Principe similaire au web : gestion d&rsquo;une pile de vues.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Stack = createStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>function</span> App() {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=navigation-entre-vues>Navigation entre vues
<span><a href=#navigation-entre-vues><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Un objet <code>navigation</code> est automatiquement ajouté aux <em>props</em> des vues gérées par React Navigation.</li><li>Son API permet de naviguer entre les vues.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Navigue vers une vue
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>this</span>.props.navigation.navigate(<span style=color:#0086d2>&#34;RouteName&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Permet d&#39;aller plusieurs fois vers la même vue
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>this</span>.props.navigation.push(<span style=color:#0086d2>&#34;RouteName&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Revient à la vue précédente
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>this</span>.props.navigation.goBack();
</span></span></code></pre></div></section><section><h3 id=passage-de-paramètres-entre-vues>Passage de paramètres entre vues
<span><a href=#passage-de-param%c3%a8tres-entre-vues><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Côté vue appelante
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>this</span>.props.navigation.navigate(<span style=color:#0086d2>&#34;RouteName&#34;</span>, {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>/* Objet dont les propriétés constituent les paramètres passés à la nouvelle vue */</span>
</span></span><span style=display:flex><span>  param1: <span style=color:#0086d2>&#34;value1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Côté vue appelée
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// La propriété route.params permet de récupérer les paramètres passés à la vue
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> { param1 } = <span style=color:#fb660a;font-weight:700>this</span>.props.route.params;
</span></span></code></pre></div></section><section><h3 id=en-tête-des-vues>En-tête des vues
<span><a href=#en-t%c3%aate-des-vues><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span>&lt;<span style=color:#fb660a;font-weight:700>MainStack.Navigator</span>
</span></span><span style=display:flex><span>  <span style=color:#ff0086;font-weight:700>screenOptions</span>={{
</span></span><span style=display:flex><span>    headerStyle: {
</span></span><span style=display:flex><span>      backgroundColor: <span style=color:#0086d2>&#34;#f4511e&#34;</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    headerTintColor: <span style=color:#0086d2>&#34;#fff&#34;</span>,
</span></span><span style=display:flex><span>    headerTitleStyle: {
</span></span><span style=display:flex><span>      fontWeight: <span style=color:#0086d2>&#34;bold&#34;</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  }}
</span></span><span style=display:flex><span>&gt;
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span></code></pre></div></section><section><h3 id=vue-modale>Vue modale
<span><a href=#vue-modale><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span>&lt;<span style=color:#fb660a;font-weight:700>RootStack.Navigator</span> <span style=color:#ff0086;font-weight:700>mode</span>=<span style=color:#0086d2>&#34;modal&#34;</span> <span style=color:#ff0086;font-weight:700>headerMode</span>=<span style=color:#0086d2>&#34;none&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>RootStack.Screen</span>
</span></span><span style=display:flex><span>    <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Main&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff0086;font-weight:700>component</span>={MainStackScreen}
</span></span><span style=display:flex><span>    <span style=color:#ff0086;font-weight:700>options</span>={{ headerShown: <span style=color:#cdcaa9;font-weight:700>false</span> }}
</span></span><span style=display:flex><span>  /&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>RootStack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;MyModal&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={ModalScreen} /&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#fb660a;font-weight:700>RootStack.Navigator</span>&gt;
</span></span></code></pre></div></section><section><h3 id=exemple-récapitulatif>Exemple récapitulatif
<span><a href=#exemple-r%c3%a9capitulatif><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/StackNavigatorDemo>https://github.com/ensc-mobi/StackNavigatorDemo</a></p><p><img src=images/stack-navigator-demo.png alt="StackNavigator demo"></p></section><section><h3 id=tabnavigator>TabNavigator
<span><a href=#tabnavigator><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Affichage d&rsquo;onglets en bas de l&rsquo;écran.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Tab = createBottomTabNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>function</span> App() {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Settings&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=navigation-entre-onglets>Navigation entre onglets
<span><a href=#navigation-entre-onglets><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Fonctionnement identique à celui de la navigation entre les vues d&rsquo;un <code>StackNavigator</code>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span>&lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>  <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Settings&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Settings&#34;</span>)}
</span></span><span style=display:flex><span>/&gt;
</span></span></code></pre></div></section><section><h3 id=affichage-de-piles-_stacks_-dans-les-onglets>Affichage de piles (<em>stacks</em>) dans les onglets
<span><a href=#affichage-de-piles-_stacks_-dans-les-onglets><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeStack = createStackNavigator();
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>function</span> HomeStackScreen() {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Define home stack
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> SettingsStack = createStackNavigator();
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>function</span> SettingsStackScreen() {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Define settings stack
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Tab = createBottomTabNavigator();
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>function</span> TabScreen() {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeStackScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Settings&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsStackScreen} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=exemple-récapitulatif-1>Exemple récapitulatif
<span><a href=#exemple-r%c3%a9capitulatif-1><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/TabNavigatorDemo>https://github.com/ensc-mobi/TabNavigatorDemo</a></p><p><img src=images/tab-navigator-demo.png alt="BottomTabNavigator demo"></p></section><section><h3 id=autres-possibilités-de-react-navigation>Autres possibilités de react-navigation
<span><a href=#autres-possibilit%c3%a9s-de-react-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://reactnavigation.org/docs/drawer-based-navigation>Navigation par menu accordéon</a></li><li><a href=https://reactnavigation.org/docs/auth-flow>Gestion de l&rsquo;authentification</a></li><li>&mldr;</li></ul></section><section><h2 id=utilisation-dapi-web>Utilisation d&rsquo;API web
<span><a href=#utilisation-dapi-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=la-notion-dapi>La notion d&rsquo;API
<span><a href=#la-notion-dapi><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Une <strong>API</strong> (<em>Application Programming Interface</em>) est un point d&rsquo;entrée programmatique dans un système.</p><p>Elle fournit un moyen d&rsquo;interagir avec ce système.</p><p>Les API permettent aux développeurs d&rsquo;intégrer des services externes dans leurs applications.</p></section><section><h3 id=spécificités-des-api-web>Spécificités des API web
<span><a href=#sp%c3%a9cificit%c3%a9s-des-api-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Une <strong>API web</strong> (appelée parfois service web) est une API accessible via les technologies du web : HTTP ou HTTPS.</p><p>Les API web utilisent le plus souvent le format de donnée <strong>JSON</strong>.</p><p>Certaines sont librement utilisables, d&rsquo;autres nécessitent une authentification du client.</p></section><section><h3 id=exemples-dapi-web>Exemples d&rsquo;API web
<span><a href=#exemples-dapi-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://pokeapi.co/>PokéAPI</a></li><li><a href=https://swapi.dev/>Star Wars API</a></li><li><a href=https://en.wikipedia.org/w/api.php?>Wikipedia</a></li><li><a href=https://developer.spotify.com/documentation/web-api/>Spotify</a></li><li><a href=https://www.omdbapi.com/>OMDb API</a></li></ul><p>(<a href=https://shkspr.mobi/blog/2016/05/easy-apis-without-authentication/>Source</a>)</p></section><section><h3 id=outils-pour-la-gestion-des-api-web>Outils pour la gestion des API web
<span><a href=#outils-pour-la-gestion-des-api-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://www.getpostman.com/>Postman</a></li><li>Extension <a href=https://addons.mozilla.org/fr/firefox/addon/restclient/>RESTClient</a> pour Firefox</li><li><a href=https://insomnia.rest/>Insomnia</a></li></ul></section><section><h3 id=appels-réseau-asynchrones-avec-javascript>Appels réseau asynchrones avec JavaScript
<span><a href=#appels-r%c3%a9seau-asynchrones-avec-javascript><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Une <a href=https://web.dev/promises/>promesse</a> (<em>promise</em>) est un objet qui encapsule une opération dont le résultat n&rsquo;est pas encore connu.</p><p>La fonction JavaScript <a href=https://developers.google.com/web/updates/2015/03/introduction-to-fetch>fetch()</a> exploite les possibilités des promesses.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Envoie une requête HTTP asynchrone vers l&#39;URL spécifiée
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>fetch(url)
</span></span><span style=display:flex><span>  .then(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Code appelé ultérieurement si la requête réussit
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  })
</span></span><span style=display:flex><span>  .<span style=color:#fb660a;font-weight:700>catch</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Code appelé ultérieurement si la requête échoue
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  });
</span></span></code></pre></div></section><section><h3 id=accès-à-une-ressource-distante>Accès à une ressource distante
<span><a href=#acc%c3%a8s-%c3%a0-une-ressource-distante><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Envoi d&#39;une requête HTTP asynchrone vers l&#39;URL spécifiée
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// La réponse reçue ici contient des données JSON
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>fetch(<span style=color:#0086d2>&#34;http://my-api-url&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Accès au contenu JSON de la réponse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  .then((response) =&gt; response.json())
</span></span><span style=display:flex><span>  .then((content) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Utilisation du contenu de la réponse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// `content` est un objet ou un tableau JavaScript
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  })
</span></span><span style=display:flex><span>  .<span style=color:#fb660a;font-weight:700>catch</span>((error) =&gt; {
</span></span><span style=display:flex><span>    console.error(error);
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div></section><section><h3 id=mise-à-jour-dune-ressource-distante>Mise à jour d&rsquo;une ressource distante
<span><a href=#mise-%c3%a0-jour-dune-ressource-distante><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>fetch(<span style=color:#0086d2>&#34;https://mywebsite.com/endpoint/&#34;</span>, {
</span></span><span style=display:flex><span>  method: <span style=color:#0086d2>&#34;POST&#34;</span>,
</span></span><span style=display:flex><span>  headers: {
</span></span><span style=display:flex><span>    Accept: <span style=color:#0086d2>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#0086d2>&#34;Content-Type&#34;</span>: <span style=color:#0086d2>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  body: JSON.stringify({
</span></span><span style=display:flex><span>    firstParam: <span style=color:#0086d2>&#34;yourValue&#34;</span>,
</span></span><span style=display:flex><span>    secondParam: <span style=color:#0086d2>&#34;yourOtherValue&#34;</span>,
</span></span><span style=display:flex><span>  }),
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=application-1>Application
<span><a href=#application-1><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/RandomBeer>https://github.com/ensc-mobi/RandomBeer</a></p><p><img src=images/random_beer.png alt="Random Beer app"></p></section><section><h3 id=consommation-dune-api-web>Consommation d&rsquo;une API web
<span><a href=#consommation-dune-api-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> rootEndpoint = <span style=color:#0086d2>&#34;https://api.punkapi.com/v2&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>interface</span> Beer {
</span></span><span style=display:flex><span>  name: <span style=color:#cdcaa9;font-weight:700>string</span>;
</span></span><span style=display:flex><span>  description: <span style=color:#cdcaa9;font-weight:700>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> headers = {
</span></span><span style=display:flex><span>  <span style=color:#0086d2>&#34;Content-Type&#34;</span>: <span style=color:#0086d2>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>  Accept: <span style=color:#0086d2>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Return a random beer from API
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>const</span> getRandomBrewdog = () =&gt;
</span></span><span style=display:flex><span>  fetch(<span style=color:#0086d2>`</span><span style=color:#0086d2>${</span>rootEndpoint<span style=color:#0086d2>}</span><span style=color:#0086d2>/beers/random`</span>, { headers })
</span></span><span style=display:flex><span>    .then((response) =&gt; response.json())
</span></span><span style=display:flex><span>    .then((beers) =&gt; beers[<span style=color:#0086f7;font-weight:700>0</span>]) <span style=color:#080;background-color:#0f140f;font-style:italic>// Access first element of returned array
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    .<span style=color:#fb660a;font-weight:700>catch</span>((error) =&gt; {
</span></span><span style=display:flex><span>      console.error(error);
</span></span><span style=display:flex><span>    });
</span></span></code></pre></div></section><section><h3 id=mise-à-jour-de-lapplication>Mise à jour de l&rsquo;application
<span><a href=#mise-%c3%a0-jour-de-lapplication><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>interface</span> AppState {
</span></span><span style=display:flex><span>  isLoading: <span style=color:#cdcaa9;font-weight:700>boolean</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Is a beer request pending?
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  name: <span style=color:#cdcaa9;font-weight:700>string</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Beer name
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  description: <span style=color:#cdcaa9;font-weight:700>string</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Beer description
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>class</span> App <span style=color:#fb660a;font-weight:700>extends</span> Component&lt;{}, AppState&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Initial state
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  state: <span style=color:#cdcaa9;font-weight:700>AppState</span> = {
</span></span><span style=display:flex><span>    name: <span style=color:#0086d2>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    description: <span style=color:#0086d2>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    isLoading: <span style=color:#cdcaa9;font-weight:700>false</span>,
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Function called when user want to search for another beer
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  _getRandomBrewdogWithFeedback = () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Begin a new request for a beer
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#fb660a;font-weight:700>this</span>.setState({ isLoading: <span style=color:#cdcaa9;font-weight:700>true</span> });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    getRandomBrewdog().then((beer: <span style=color:#cdcaa9;font-weight:700>Beer</span>) =&gt;
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>this</span>.setState({
</span></span><span style=display:flex><span>        name: <span style=color:#cdcaa9;font-weight:700>beer.name</span>,
</span></span><span style=display:flex><span>        description: <span style=color:#cdcaa9;font-weight:700>beer.description</span>,
</span></span><span style=display:flex><span>        isLoading: <span style=color:#cdcaa9;font-weight:700>false</span>, <span style=color:#080;background-color:#0f140f;font-style:italic>// Request is finished
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      })
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span></code></pre></div></section><section><h3 id=interactions-avec-un-sgbdr-via-une-api-web>Interactions avec un SGBDR via une API web
<span><a href=#interactions-avec-un-sgbdr-via-une-api-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/mevdschee/php-crud-api>https://github.com/mevdschee/php-crud-api</a></p><p>Fichier <code>api.php</code> à publier sur un serveur web PHP. Fournit une API web pour accéder aux données d&rsquo;un SGBDR.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Update to reflect your local settings
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a>$config</span> = <span style=color:#fb660a;font-weight:700>new</span> Config([
</span></span><span style=display:flex><span>  <span style=color:#0086d2>&#39;username&#39;</span> =&gt; <span style=color:#0086d2>&#39;xxx&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#0086d2>&#39;password&#39;</span> =&gt; <span style=color:#0086d2>&#39;xxx&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#0086d2>&#39;database&#39;</span> =&gt; <span style=color:#0086d2>&#39;xxx&#39;</span>,
</span></span><span style=display:flex><span>]);
</span></span></code></pre></div></section><section><h3 id=utilisation-de-php-crud-api>Utilisation de PHP-CRUD-API
<span><a href=#utilisation-de-php-crud-api><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>http://my-server-url/api.php/records/...</code></p><ul><li><code>GET my-table</code> : renvoie la liste des enregistrements de la table <code>my-table</code>.</li><li><code>GET my-table/id</code> : renvoie l&rsquo;enregistrement identifié par <code>id</code>.</li><li><code>POST my-table</code> : création d&rsquo;un nouvel enregistrement avec les données contenues dans le corps de la requête.</li></ul></section></div></div><div><a href=https://ensc.bordeaux-inp.fr><img src=https://www.bpesquet.fr/images/ENSC.jpg style=position:absolute;bottom:10px;left:10px></a></div><script src=https://www.bpesquet.fr/reveal.js/dist/reveal.js></script>
<script src=https://www.bpesquet.fr/reveal.js/plugin/math/math.js></script>
<script>Reveal.initialize({history:!1,slideNumber:!0,transition:"convex",math:{mathjax:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js",config:"TeX-MML-AM_HTMLorMML"},dependencies:[{src:"https://www.bpesquet.fr/reveal.js/plugin/markdown/marked.js"},{src:"https://www.bpesquet.fr/reveal.js/plugin/markdown/markdown.js"},{src:"https://www.bpesquet.fr/reveal.js/plugin/notes/notes.js",async:!0},{src:"https://www.bpesquet.fr/reveal.js/plugin/zoom-js/zoom.js",async:!0},{src:"https://www.bpesquet.fr/reveal.js/plugin/highlight/highlight.js",async:!0,callback:function(){hljs.initHighlightingOnLoad()}}],plugins:[RevealMath]})</script></body></html>