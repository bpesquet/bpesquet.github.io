<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>React Native</title><link rel=stylesheet href=https://www.bpesquet.fr/reveal.js/dist/reveal.css><link rel=stylesheet href=https://www.bpesquet.fr/reveal.js/dist/theme/white.css></head><body><div class=reveal><div class=slides><section><h1>React Native</h1><p><a href=https://ensc.bordeaux-inp.fr>Ecole Nationale Supérieure de Cognitique</a></p><p><a href=https://www.bpesquet.fr>Baptiste Pesquet</a></p></section><section><h2 id=sommaire>Sommaire
<span><a href=#sommaire><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><ul><li>Introduction</li><li>Composants React Native</li><li>Gestion de l&rsquo;UI</li><li>Gestion de l&rsquo;état</li><li>Applications multi-écrans</li><li>Utilisation d&rsquo;API web</li><li>Persistance locale</li></ul></section><section><h2 id=introduction>Introduction
<span><a href=#introduction><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=lécosystème-mobile>L&rsquo;écosystème mobile
<span><a href=#l%c3%a9cosyst%c3%a8me-mobile><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Absence de monopole.</li><li>Deux poids lourds : Android et iOS.</li><li>Parts de marché stables depuis plusieurs années.</li></ul></section><section><p><img src=images/smartphone_market_share_2016.jpg alt="Smartphone platform market share"></p></section><section><p><img src=images/market-share-2015_2019.png alt="Market share evolution 2015-2019"></p></section><section><p><img src=images/os-fragmentation_2018.jpg alt="Mobile OS Fragmentation"></p></section><section><section data-shortcode-section><h3 id=développement-mobile-natif>Développement mobile natif
<span><a href=#d%c3%a9veloppement-mobile-natif><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Création d&rsquo;applications en utilisant la technologie prévue par le concepteur de l&rsquo;OS.</p><ul><li>Android : Java</li><li>IOS : Objective-C ou Swift</li></ul><p class=fragment>Ces technologies sont <strong>incompatibles</strong>.</p></section><section><h3 id=avantages>Avantages
<span><a href=#avantages><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Accès à l&rsquo;intégralité des fonctionnalités matérielles et logicielles du terminal mobile.</li><li>Performances optimales.</li></ul></section><section><h3 id=inconvénient-majeur->Inconvénient (majeur !)
<span><a href=#inconv%c3%a9nient-majeur-><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Nécessité de créer puis de faire évoluer une application pour chaque environnement.</p></section></section><section><section data-shortcode-section><h3 id=solutions-hybrides>Solutions hybrides
<span><a href=#solutions-hybrides><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Création d&rsquo;applications mobiles compatibles avec plusieurs OS mobiles grâce à un framework dédié.</p><p>Une application hybride est une application web qui s&rsquo;exécute à l&rsquo;intérieur d&rsquo;un navigateur.</p><p>Exemples : <a href=https://cordova.apache.org>Apache Cordova</a>, <a href=https://ionicframework.com>Ionic</a></p></section><section><h3 id=avantages>Avantages
<span><a href=#avantages><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Fonctionnalités et performances proches de celles d&rsquo;une application native.</li><li>Economies de ressources pour créer l&rsquo;application.</li><li>Une seule base de code : maintenance et évolution facilitées.</li></ul></section><section><h3 id=inconvénients>Inconvénients
<span><a href=#inconv%c3%a9nients><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Impossible d&rsquo;accéder à certaines fonctionnalités matérielles ou logicielles spécifiques.</li><li><em>Look&rsquo;n&rsquo;feel</em> non natif.</li><li>Mauvaises performances dans certains scenarii.</li></ul></section></section><section><section data-shortcode-section><h3 id=développement-natif-multi-plateformes>Développement natif multi-plateformes
<span><a href=#d%c3%a9veloppement-natif-multi-plateformes><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Création d&rsquo;applications mobiles compatibles avec plusieurs OS mobiles grâce à un framework dédié.</p><p>Le framework encapsule les véritables composants natifs de l&rsquo;OS.</p><p>Exemples : <a href=https://facebook.github.io/react-native/>React Native</a>, <a href=https://weexapp.com/>Weex</a>, <a href=https://dotnet.microsoft.com/en-us/apps/xamarin>Xamarin</a></p></section><section><h3 id=le-meilleur-des-deux-mondes->Le meilleur des deux mondes ?
<span><a href=#le-meilleur-des-deux-mondes-><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Combine les avantages du natif (<em>look&rsquo;n&rsquo;feel</em>, performances) et de l&rsquo;hybride (une seule base de code).</p><p>Limite potentielle : le support de l&rsquo;OS dépend entièrement du framework.</p></section></section><section><h3 id=react-native>React Native
<span><a href=#react-native><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Framework créé par Facebook, open source depuis 2015.</p><p>Déclinaison mobile du framework JavaScript <a href=https://reactjs.org/>React</a>.</p><p><a href=https://reactnative.dev/><img src=images/reactjs.png alt="React logo"></a></p></section><section><h3 id=expo>Expo
<span><a href=#expo><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Framework pour faciliter la création et le déploiement d&rsquo;applications React Native.</p><p><a href=https://expo.dev/><img src=images/expo_logo.png alt="Expo logo"></a></p><ul><li><a href=https://docs.expo.dev/workflow/expo-cli/>Expo CLI</a> : outil en ligne de commande pour le développement local.</li><li><a href=https://expo.dev/expo-go>Expo Go</a> : application mobile à installer sur le terminal cible pour le déploiement.</li></ul></section><section><h3 id=création-dune-application>Création d&rsquo;une application
<span><a href=#cr%c3%a9ation-dune-application><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Install expo-cli globally</span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># (Node.js and Git are prerequisites)</span>
</span></span><span style=display:flex><span>npm i -g expo-cli
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Create a new app named &#34;appname&#34; in its own subfolder</span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Created files are automatically versioned into a Git repository</span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># The optional -t flag is used to select an Expo app template</span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Run npx create-expo-app --template to see the list of available templates.</span>
</span></span><span style=display:flex><span>npx create-expo-app &lt;appname&gt; -t &lt;expo-template&gt;
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Alternative: expo init &lt;appname&gt; -t &lt;expo-template&gt;</span>
</span></span></code></pre></div><ul><li><p>Workflow <em>managé</em> : projet entièrement géré par Expo (plus simple).</p></li><li><p>Workflow <em>bare</em> : plus proche d&rsquo;un projet React Native pur.</p></li></ul></section><section><h3 id=déploiement-de-lapplication>Déploiement de l&rsquo;application
<span><a href=#d%c3%a9ploiement-de-lapplication><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd &lt;appname&gt; <span style=color:#080;background-color:#0f140f;font-style:italic># Move into project directory</span>
</span></span><span style=display:flex><span>npm start <span style=color:#080;background-color:#0f140f;font-style:italic># Or &#39;expo start&#39;</span>
</span></span></code></pre></div><p>Ensuite, scan du QR Code depuis l&rsquo;application Expo Go (Android) ou l&rsquo;appareil photo du smartphone (iOS).</p><p><img src=images/expo_qrcode.png alt="Expo QR Code"></p></section><section><h3 id=détails-sur-le-déploiement>Détails sur le déploiement
<span><a href=#d%c3%a9tails-sur-le-d%c3%a9ploiement><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>L&rsquo;application est hébergée sur un serveur web local.</li><li>Expo s&rsquo;y connecte pour la récupérer puis la lancer.</li><li>Une interface web de gestion s&rsquo;affiche.</li></ul><p><img src=images/expo_management.png alt="Expo Management"></p></section><section><h3 id=rechargement-dynamique>Rechargement dynamique
<span><a href=#rechargement-dynamique><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://openclassrooms.com/fr/courses/4902061-developpez-une-application-mobile-react-native/><img src=images/expo_reload.jpeg alt="Live Reload"></a></p></section><section><h3 id=connexion-au-serveur-expo>Connexion au serveur Expo
<span><a href=#connexion-au-serveur-expo><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>L&rsquo;application mobile Expo Go doit accéder au serveur web de la machine de développement pour pouvoir lancer l&rsquo;application RN.</p><p>Il existe plusieurs modes de connexion :</p><ul><li><strong>LAN</strong> : utilisation du réseau Wifi local. Peut poser problème dans certains environnements Wifi sécurisés.</li><li><strong>Tunnel</strong> : création d&rsquo;un tunnel avec <a href=https://ngrok.com/>ngrok</a> pour accéder au serveur local via le web. Nécessite que le terminal mobile dispose d&rsquo;un accès internet.</li></ul></section><section><h3 id=utilisation-dun-émulateur>Utilisation d&rsquo;un émulateur
<span><a href=#utilisation-dun-%c3%a9mulateur><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Alternative à l&rsquo;emploi d&rsquo;un terminal mobile pour tester l&rsquo;application RN.</li><li>Nécessite l&rsquo;installation de <a href=https://developer.apple.com/xcode/>XCode (iOS)</a> ou <a href=https://developer.android.com/studio>Android Studio</a> sur le machine de développement.</li><li>Documentation : <a href=https://docs.expo.io/workflow/ios-simulator/>iOS</a> | <a href=https://docs.expo.io/workflow/android-studio-emulator/>Android</a>.</li></ul><p><img src=images/expo-emulator.png alt="Expo emulator"></p></section><section><h3 id=contenu-du-répertoire-créé>Contenu du répertoire créé
<span><a href=#contenu-du-r%c3%a9pertoire-cr%c3%a9%c3%a9><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><img src=images/rn-app-structure.png alt="Arborescence React Native"></p></section><section><h3 id=le-fichier-de-configuration-appjson>Le fichier de configuration app.json
<span><a href=#le-fichier-de-configuration-appjson><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;expo&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;name&#34;</span>: <span style=color:#0086d2>&#34;HelloReactNative&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;slug&#34;</span>: <span style=color:#0086d2>&#34;HelloReactNative&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;version&#34;</span>: <span style=color:#0086d2>&#34;1.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;orientation&#34;</span>: <span style=color:#0086d2>&#34;portrait&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;icon&#34;</span>: <span style=color:#0086d2>&#34;./assets/icon.png&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;userInterfaceStyle&#34;</span>: <span style=color:#0086d2>&#34;light&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;splash&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;image&#34;</span>: <span style=color:#0086d2>&#34;./assets/splash.png&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;resizeMode&#34;</span>: <span style=color:#0086d2>&#34;contain&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;backgroundColor&#34;</span>: <span style=color:#0086d2>&#34;#ffffff&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;updates&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;fallbackToCacheTimeout&#34;</span>: <span style=color:#0086f7;font-weight:700>0</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;assetBundlePatterns&#34;</span>: [
</span></span><span style=display:flex><span>      <span style=color:#0086d2>&#34;**/*&#34;</span>
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;ios&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;supportsTablet&#34;</span>: <span style=color:#fb660a;font-weight:700>true</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;android&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;adaptiveIcon&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#fb660a;font-weight:700>&#34;foregroundImage&#34;</span>: <span style=color:#0086d2>&#34;./assets/adaptive-icon.png&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#fb660a;font-weight:700>&#34;backgroundColor&#34;</span>: <span style=color:#0086d2>&#34;#FFFFFF&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;web&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>&#34;favicon&#34;</span>: <span style=color:#0086d2>&#34;./assets/favicon.png&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=le-fichier-packagejson>Le fichier package.json
<span><a href=#le-fichier-packagejson><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;name&#34;</span>: <span style=color:#0086d2>&#34;helloreactnative&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;version&#34;</span>: <span style=color:#0086d2>&#34;1.0.0&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;main&#34;</span>: <span style=color:#0086d2>&#34;node_modules/expo/AppEntry.js&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;start&#34;</span>: <span style=color:#0086d2>&#34;expo start&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;android&#34;</span>: <span style=color:#0086d2>&#34;expo start --android&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;ios&#34;</span>: <span style=color:#0086d2>&#34;expo start --ios&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;web&#34;</span>: <span style=color:#0086d2>&#34;expo start --web&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;dependencies&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;expo&#34;</span>: <span style=color:#0086d2>&#34;~47.0.9&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;expo-status-bar&#34;</span>: <span style=color:#0086d2>&#34;~1.4.2&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;react&#34;</span>: <span style=color:#0086d2>&#34;18.1.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;react-native&#34;</span>: <span style=color:#0086d2>&#34;0.70.5&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;devDependencies&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>&#34;@babel/core&#34;</span>: <span style=color:#0086d2>&#34;^7.12.9&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>&#34;private&#34;</span>: <span style=color:#fb660a;font-weight:700>true</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=le-fichier-principal-appjs>Le fichier principal App.js
<span><a href=#le-fichier-principal-appjs><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StatusBar } from <span style=color:#0086d2>&#34;expo-status-bar&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>function</span> App() {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Open up App.js to start working on your app!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>StatusBar</span> <span style=color:#ff0086;font-weight:700>style</span>=<span style=color:#0086d2>&#34;auto&#34;</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;#fff&#34;</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=les-formats-jsx-et-tsx>Les formats JSX et TSX
<span><a href=#les-formats-jsx-et-tsx><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Syntaxe introduite pour le framework web <a href=https://reactjs.org/>React</a>.</li><li>Permet de décrire une UI en intégrant balisage et logique applicative.</li><li>Les accolades <code>{...}</code> permettent d&rsquo;inclure du code JavaScript dans le code JSX (<a href=https://beta.reactjs.org/learn/javascript-in-jsx-with-curly-braces>plus de détails</a>).</li><li>TSX : équivalent de JSX pour TypeScript.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// JSX for React (web)
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> name = <span style=color:#0086d2>&#34;Clarisse Agbegnenou&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> element = &lt;<span style=color:#fb660a;font-weight:700>p</span>&gt;Hello, {name}&lt;/<span style=color:#fb660a;font-weight:700>p</span>&gt;;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// JSX for React Native (mobile)
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> name = <span style=color:#0086d2>&#34;Clarisse Agbegnenou&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> element = &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Hello, {name}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span></code></pre></div></section><section><h2 id=composants-react-native>Composants React Native
<span><a href=#composants-react-native><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=la-notion-de-composant>La notion de composant
<span><a href=#la-notion-de-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><p>Les <strong>composants</strong> sont les blocs de base d&rsquo;une application React (Native).</p></li><li><p>Ils permettent de créer une UI sous forme <strong>déclarative</strong> par assemblage de composants inclus les uns dans les autres.</p></li><li><p>Ils doivent comporter une fonction qui définit leur rendu visuel.</p></li><li><p>Le fichier principal <code>App.js</code> d&rsquo;une application RN doit exporter un composant par défaut.</p></li></ul></section><section><h3 id=composants-fonctions>Composants fonctions
<span><a href=#composants-fonctions><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>La valeur de retour de la fonction définit leur rendu.</li><li>Syntaxe standard, la plus concise.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// HelloWorldApp is a function component
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> HelloWorldApp = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span>
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>style</span>={{
</span></span><span style=display:flex><span>        flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>        justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>        alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>      }}
</span></span><span style=display:flex><span>    &gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={{ fontSize: <span style=color:#0086f7;font-weight:700>24</span> }}&gt;Hello from a <span style=color:#fb660a;font-weight:700>function</span> component!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> HelloWorldApp;
</span></span></code></pre></div></section><section><h3 id=composants-classes>Composants classes
<span><a href=#composants-classes><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>La méthode obligatoire <code>render()</code> définit leur rendu.</li><li>Syntaxe à privilégier pour les composants les plus complexes.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { Component } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// HelloWorldApp is a class component
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>class</span> HelloWorldApp <span style=color:#fb660a;font-weight:700>extends</span> Component {
</span></span><span style=display:flex><span>  render() {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>style</span>={{
</span></span><span style=display:flex><span>          flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>          justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>          alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      &gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={{ fontSize: <span style=color:#0086f7;font-weight:700>24</span> }}&gt;Hello from a <span style=color:#fb660a;font-weight:700>class</span> component!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> HelloWorldApp;
</span></span></code></pre></div></section><section><h3 id=composants-de-base>Composants de base
<span><a href=#composants-de-base><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Implémentés de manière native par RN sous Android et iOS afin d&rsquo;obtenir un <em>look&rsquo;n&rsquo;feel</em> et des performances optimaux.</p><p><a href=https://reactnative.dev/docs/components-and-apis><img src=images/basic_components.png alt="React Native core components"></a></p></section><section><h3 id=gestion-du-style>Gestion du style
<span><a href=#gestion-du-style><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Propriété <code>style</code> disponible pour les composants de base.</li><li>Semblable à CSS avec nommage <em>camelCase</em>.</li><li>En ligne ou externalisé sous forme d&rsquo;un objet créé par la fonction <code>StyleSheet.create</code>.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.red}&gt;just red&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.bigblue}&gt;just bigblue&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Using an array of styles:  last element has precedence */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.bigblue, styles.red]}&gt;bigblue, then red&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.red, styles.bigblue]}&gt;red, then bigblue&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  bigblue: {
</span></span><span style=display:flex><span>    color: <span style=color:#0086d2>&#34;blue&#34;</span>,
</span></span><span style=display:flex><span>    fontWeight: <span style=color:#0086d2>&#34;bold&#34;</span>,
</span></span><span style=display:flex><span>    fontSize: <span style=color:#0086f7;font-weight:700>30</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  red: {
</span></span><span style=display:flex><span>    color: <span style=color:#0086d2>&#34;red&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=composants-personnalisés>Composants personnalisés
<span><a href=#composants-personnalis%c3%a9s><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Ils permettent de créer une application par assemblage de composants élémentaires.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Cat = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;I am a cat!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Welcome!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Cat</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Cat</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Cat</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=_props_-dun-composant><em>Props</em> d&rsquo;un composant
<span><a href=#_props_-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Caractéristiques définies au moment de la création, modifiables uniquement par le composant parent.</li><li>Objet composé de propriétés (paires nom/valeur).</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// This component has two props: &#34;name&#34; and &#34;age&#34;
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> Cat = ({ name, age }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      I am {name} the {age} years old cat!
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Welcome!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* We define the values of the props for each cat */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Cat</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Madchat&#34;</span> <span style=color:#ff0086;font-weight:700>age</span>=<span style=color:#0086d2>&#34;5&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Cat</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Félicette&#34;</span> <span style=color:#ff0086;font-weight:700>age</span>=<span style=color:#0086d2>&#34;3&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Cat</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Fritz&#34;</span> <span style=color:#ff0086;font-weight:700>age</span>=<span style=color:#0086d2>&#34;7&#34;</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=_props_-et-déstructuration><em>Props</em> et déstructuration
<span><a href=#_props_-et-d%c3%a9structuration><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Les <em>props</em> peuvent être passées de deux manières équivalentes à un composant function.</li><li>La seconde, plus concise et explicite, est un exemple de <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment>déstructuration d&rsquo;objet</a>.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Cat1 = (props) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> name = props.name;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> age = props.age;
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Cat2 = ({ name, age }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>};
</span></span></code></pre></div></section><section><h3 id=les-hooks>Les hooks
<span><a href=#les-hooks><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Introduits dans une version récente de React, les <a href=https://reactjs.org/docs/hooks-overview.html>hooks</a> permettent d&rsquo;écrire du code lié au cycle de vie des composants fonction.</li><li>Exemple : le hook <a href=https://reactjs.org/docs/hooks-state.html>useState</a> permet d&rsquo;ajouter une variable d&rsquo;état à un composant fonction.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> [&lt;getter&gt;, &lt;setter&gt;] = useState(&lt;initialValue&gt;);
</span></span></code></pre></div></section><section><h3 id=etat-_state_-dun-composant>Etat (<em>state</em>) d&rsquo;un composant
<span><a href=#etat-_state_-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Etat interne (mémoire), susceptible de changer au cours du temps (<em>mutable</em>).</li><li>Sa modification entraine une mise à jour de l&rsquo;affichage du composant.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { useState } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Button, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Counter = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Add a variable named &#34;count&#34; to the component state.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Its initial value is zero.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// The setCount function is used to update its value.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> [count, setCount] = useState(<span style=color:#0086f7;font-weight:700>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Adjacent JSX elements must be wrapped in an enclosing tag.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Fragments &lt;&gt; and &lt;/&gt; let you do that without using an unnecessary wrapping element like View.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    &lt;&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Click me!&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Update the state variable
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          setCount(count + <span style=color:#0086f7;font-weight:700>1</span>);
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      &gt;&lt;/<span style=color:#fb660a;font-weight:700>Button</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Show the current value of the state variable */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;You clicked {count} times&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Counter</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=cycle-de-vie-dun-composant>Cycle de vie d&rsquo;un composant
<span><a href=#cycle-de-vie-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Les composants RN suivent un cycle de vie bien défini composé d&rsquo;étapes : <strong>montage</strong>, <strong>rendu</strong>, <strong>mise à jour</strong>, <strong>démontage</strong> et <strong>suppression</strong>.</p><p><a href=http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/><img src=images/react-lifecycle.png alt="React lifecycle"></a></p></section><section><h2 id=gestion-de-lui>Gestion de l&rsquo;UI
<span><a href=#gestion-de-lui><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=gestion-des-dimensions>Gestion des dimensions
<span><a href=#gestion-des-dimensions><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Deux possibilités pour définir la taille des composants :</p><ul><li>Dimensions fixes</li><li>Dimensions flexibles</li></ul></section><section><h3 id=dimensions-fixes>Dimensions fixes
<span><a href=#dimensions-fixes><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Utile pour les composants qui doivent toujours être affichés à la même taille.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ width: <span style=color:#0086f7;font-weight:700>50</span>, height: <span style=color:#0086f7;font-weight:700>50</span>, backgroundColor: <span style=color:#0086d2>&#34;powderblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ width: <span style=color:#0086f7;font-weight:700>100</span>, height: <span style=color:#0086f7;font-weight:700>100</span>, backgroundColor: <span style=color:#0086d2>&#34;skyblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ width: <span style=color:#0086f7;font-weight:700>150</span>, height: <span style=color:#0086f7;font-weight:700>150</span>, backgroundColor: <span style=color:#0086d2>&#34;steelblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>    &lt;/&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></section><section><h3 id=dimensions-flexibles>Dimensions flexibles
<span><a href=#dimensions-flexibles><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><p><code>flex:1</code> => le composant prend tout l&rsquo;espace disponible, partagé équitablement entre les autres composants d&rsquo;un même parent.</p></li><li><p>Une valeur de <code>flex</code> plus élevée donne plus d&rsquo;espace à un composant par rapport aux autres.</p></li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Try removing the `flex: 1` on the parent View.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// The parent will not have dimensions, so the children can&#39;t expand.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// What if you add `height: 300` instead of `flex: 1`?
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>1</span> }}&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Try changing the flex values to see how children views share the screen space */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>1</span>, backgroundColor: <span style=color:#0086d2>&#34;powderblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>2</span>, backgroundColor: <span style=color:#0086d2>&#34;skyblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={{ flex: <span style=color:#0086f7;font-weight:700>3</span>, backgroundColor: <span style=color:#0086d2>&#34;steelblue&#34;</span> }} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></section><section><h3 id=positionnement-avec-flexbox>Positionnement avec Flexbox
<span><a href=#positionnement-avec-flexbox><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Mode de mise en page pour les éléments situés à l&rsquo;intérieur d&rsquo;un conteneur.</li><li>Objectif : répartir au mieux l&rsquo;espace disponible.</li></ul><p><img src=images/flexbox_terminology.png alt="Flexbox terminology"></p></section><section><h3 id=flexdirection--flux-des-éléments><code>flexDirection</code> : flux des éléments
<span><a href=#flexdirection--flux-des-%c3%a9l%c3%a9ments><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>column</code> (par défaut), <code>row</code>, <code>column-reverse</code>, <code>row-reverse</code>.</p><p><a href=https://css-tricks.com/snippets/css/a-guide-to-flexbox/><img src=images/flexbox_flex_direction.png alt="Flex direction"></a></p></section><section><h3 id=justifycontent--axe-principal><code>justifyContent</code> : axe principal
<span><a href=#justifycontent--axe-principal><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://css-tricks.com/snippets/css/a-guide-to-flexbox/><img src=images/flexbox_justify_content.png alt="Flexbox: justify content"></a></p></section><section><h3 id=alignitems--axe-secondaire><code>alignItems</code> : axe secondaire
<span><a href=#alignitems--axe-secondaire><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://css-tricks.com/snippets/css/a-guide-to-flexbox/><img src=images/flexbox_align_items.png alt="Flexbox: align Items"></a></p></section><section><h3 id=flexbox-en-action>Flexbox en action
<span><a href=#flexbox-en-action><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { View, StyleSheet } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Individual styles can be combined into an array */</span>}
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Thus, common style properties can be factorized */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.box, styles.box1]} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.box, styles.box2]} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={[styles.box, styles.box3]} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Used to take into account the phone status bar at the top of the screen
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// marginTop: 48,
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    justifyContent: <span style=color:#0086d2>&#34;space-around&#34;</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  box: {
</span></span><span style=display:flex><span>    width: <span style=color:#0086f7;font-weight:700>100</span>,
</span></span><span style=display:flex><span>    height: <span style=color:#0086f7;font-weight:700>100</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  box1: {
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;powderblue&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  box2: {
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;skyblue&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  box3: {
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;steelblue&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=saisies-utilisateur>Saisies utilisateur
<span><a href=#saisies-utilisateur><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Le composant <a href=https://reactnative.dev/docs/textinput>TextInput</a> permet la saisie de texte.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { useState } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View, TextInput } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Add character count to state
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> [charCount, setCharCount] = useState(<span style=color:#0086f7;font-weight:700>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>TextInput</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>style</span>={styles.text}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>placeholder</span>=<span style=color:#0086d2>&#34;Enter some text&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onChangeText</span>={(text) =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Update character count after input changes
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          setCharCount(text.length);
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Character count: {charCount}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  text: {
</span></span><span style=display:flex><span>    fontSize: <span style=color:#0086f7;font-weight:700>22</span>,
</span></span><span style=display:flex><span>    paddingBottom: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h2 id=gestion-de-létat>Gestion de l&rsquo;état
<span><a href=#gestion-de-l%c3%a9tat><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=rappels-sur-les-props>Rappels sur les props
<span><a href=#rappels-sur-les-props><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><p><strong>Props</strong> = caractéristiques définies au moment de la création du composant.</p></li><li><p>Les props d&rsquo;un composant sont modifiables uniquement par son composant parent.</p></li></ul></section><section><h3 id=rappels-sur-létat>Rappels sur l&rsquo;état
<span><a href=#rappels-sur-l%c3%a9tat><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><p><strong>Etat (<em>state</em>)</strong> = ensemble des données susceptibles d&rsquo;être modifiées pendant l&rsquo;exécution de l&rsquo;application.</p></li><li><p>Chaque composant fonction React Native possède un état interne, géré via le hook <code>useState</code>.</p></li><li><p>Toute modification de l&rsquo;état déclenche un nouveau rendu du composant.</p></li></ul></section><section><h3 id=problématique>Problématique
<span><a href=#probl%c3%a9matique><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><p>La gestion locale de l&rsquo;état devient insuffisante lorsqu&rsquo;un composant doit <strong>accéder à</strong> ou <strong>modifier</strong> l&rsquo;état d&rsquo;un autre composant.</p></li><li><p>Nécessité de partager un <strong>état commun</strong> entre certains composants.</p></li></ul></section><section><h3 id=solution--_lifting-state-up_>Solution : <em>&ldquo;lifting state up&rdquo;</em>
<span><a href=#solution--_lifting-state-up_><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Remonter l&rsquo;état au niveau du plus proche composant parent commun.</li><li>Définir les actions de modification dans ce composant parent.</li><li>Dans les composants enfants :<ul><li>Remplacer l&rsquo;état local par des propriétés définies par le parent.</li><li>Remplacer les actions locales par des appels aux actions définies dans le parent.</li></ul></li></ul><p><a href=https://reactjs.org/docs/lifting-state-up.html>Lifting State Up (React)</a></p></section><section><h3 id=exemple-de-remontée-de-létat>Exemple de remontée de l&rsquo;état
<span><a href=#exemple-de-remont%c3%a9e-de-l%c3%a9tat><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/TempConverter>https://github.com/ensc-mobi/TempConverter</a></p><p><img src=images/temp-converter.gif alt="TempConverter demo"></p></section><section><h3 id=mise-en-oeuvre>Mise en oeuvre
<span><a href=#mise-en-oeuvre><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>L&rsquo;état (température et échelle) commun aux deux composants de saisie est remonté dans <code>App</code>, leur parent commun.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { useState } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, View, Text, TextInput } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Scale names used for display
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> scaleNames = { c: <span style=color:#0086d2>&#34;Celsius&#34;</span>, f: <span style=color:#0086d2>&#34;Fahrenheit&#34;</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Celsius/Fahrenheit conversion functions
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>function</span> toCelsius(fahrenheit) {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> ((fahrenheit - <span style=color:#0086f7;font-weight:700>32</span>) * <span style=color:#0086f7;font-weight:700>5</span>) / <span style=color:#0086f7;font-weight:700>9</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>function</span> toFahrenheit(celsius) {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (celsius * <span style=color:#0086f7;font-weight:700>9</span>) / <span style=color:#0086f7;font-weight:700>5</span> + <span style=color:#0086f7;font-weight:700>32</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Component displaying if the water would boil or not, depending on the temperature
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// We choose the Celsius scale for easier comparison with the boiling temperature
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> BoilingResult = ({ tempCelsius }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>let</span> message = <span style=color:#0086d2>&#34;&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>if</span> (!Number.isNaN(tempCelsius)) {
</span></span><span style=display:flex><span>    message =
</span></span><span style=display:flex><span>      tempCelsius &gt;= <span style=color:#0086f7;font-weight:700>100</span> ? <span style=color:#0086d2>&#34;The water would boil&#34;</span> : <span style=color:#0086d2>&#34;The water would not boil&#34;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;{message}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Component for displaying and inputting a temperature in a specific scale
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> TemperatureInput = ({ value, scale, onChange }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Accessing scaleNames properties through bracket notation
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> placeholder = <span style=color:#0086d2>`Enter temperature in </span><span style=color:#0086d2>${</span>scaleNames[scale]<span style=color:#0086d2>}</span><span style=color:#0086d2>`</span>;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>TextInput</span>
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>style</span>={styles.text}
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>placeholder</span>={placeholder}
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>onChangeText</span>={(text) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#080;background-color:#0f140f;font-style:italic>// Call callback passed as component prop when input text changes
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>        onChange(text);
</span></span><span style=display:flex><span>      }}
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>value</span>={value}
</span></span><span style=display:flex><span>    /&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Convert a temperature using a given conversion function
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>function</span> tryConvert(temperature, convert) {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> input = parseFloat(temperature);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>if</span> (Number.isNaN(input)) {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> <span style=color:#0086d2>&#34;&#34;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Call the conversion function on input
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> output = convert(input);
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Keep the output rounded to the third decimal place
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> rounded = Math.round(output * <span style=color:#0086f7;font-weight:700>1000</span>) / <span style=color:#0086f7;font-weight:700>1000</span>;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> rounded.toString();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Main component
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Common state is lifted here because this component is the closest parent of TemperatureInput components.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// We store only the most recently changed input with its scale.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Temperature is stored as a string to handle missing values.
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> [temperature, setTemperature] = useState(<span style=color:#0086d2>&#34;&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> [scale, setScale] = useState(<span style=color:#0086d2>&#34;c&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Compute temperatures in both scales
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> tempCelsius =
</span></span><span style=display:flex><span>    scale === <span style=color:#0086d2>&#34;f&#34;</span> ? tryConvert(temperature, toCelsius) : temperature;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> tempFahrenheit =
</span></span><span style=display:flex><span>    scale === <span style=color:#0086d2>&#34;c&#34;</span> ? tryConvert(temperature, toFahrenheit) : temperature;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Display and input in Celsius degrees */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>TemperatureInput</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>value</span>={tempCelsius}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>scale</span>=<span style=color:#0086d2>&#34;c&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onChange</span>={(newTemp) =&gt; {
</span></span><span style=display:flex><span>          setTemperature(newTemp);
</span></span><span style=display:flex><span>          setScale(<span style=color:#0086d2>&#34;c&#34;</span>);
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Display and input in Fahrenheit degrees */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>TemperatureInput</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>value</span>={tempFahrenheit}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>scale</span>=<span style=color:#0086d2>&#34;f&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onChange</span>={(newTemp) =&gt; {
</span></span><span style=display:flex><span>          setTemperature(newTemp);
</span></span><span style=display:flex><span>          setScale(<span style=color:#0086d2>&#34;f&#34;</span>);
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>BoilingResult</span> <span style=color:#ff0086;font-weight:700>tempCelsius</span>={parseFloat(tempCelsius)} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  text: {
</span></span><span style=display:flex><span>    fontSize: <span style=color:#0086f7;font-weight:700>22</span>,
</span></span><span style=display:flex><span>    paddingBottom: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=restructuration-du-projet>Restructuration du projet
<span><a href=#restructuration-du-projet><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><code>components/</code> rassemble les définitions des composants élémentaires.</li><li>Ils sont importés par le composant racine défini dans <code>App.js</code>.</li><li><code>utils/</code> et <code>theme/</code> factorisent les fonctions de conversion et les styles React Native communs.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MyApp/
</span></span><span style=display:flex><span>├── components/
</span></span><span style=display:flex><span>│   ├── BoilingResult.js
</span></span><span style=display:flex><span>│   ├── TemperatureInput.js
</span></span><span style=display:flex><span>├── utils/
</span></span><span style=display:flex><span>│   ├── temperatureUtils.js
</span></span><span style=display:flex><span>├── theme/
</span></span><span style=display:flex><span>│   ├── styles.js
</span></span><span style=display:flex><span>└── App.js
</span></span></code></pre></div></section><section><h3 id=définition-et-export-des-fonctions-de-conversion>Définition et export des fonctions de conversion
<span><a href=#d%c3%a9finition-et-export-des-fonctions-de-conversion><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Dans le fichier <code>utils/temperatureUtils.js</code>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Scale names used for display
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>const</span> scaleNames = { c: <span style=color:#0086d2>&#34;Celsius&#34;</span>, f: <span style=color:#0086d2>&#34;Fahrenheit&#34;</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Celsius/Fahrenheit conversion functions
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>function</span> toCelsius(fahrenheit) {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> ((fahrenheit - <span style=color:#0086f7;font-weight:700>32</span>) * <span style=color:#0086f7;font-weight:700>5</span>) / <span style=color:#0086f7;font-weight:700>9</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>function</span> toFahrenheit(celsius) {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (celsius * <span style=color:#0086f7;font-weight:700>9</span>) / <span style=color:#0086f7;font-weight:700>5</span> + <span style=color:#0086f7;font-weight:700>32</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Convert a temperature using a given conversion function
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>function</span> tryConvert(temperature, convert) {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> input = parseFloat(temperature);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>if</span> (Number.isNaN(input)) {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> <span style=color:#0086d2>&#34;&#34;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Call the conversion function on input
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> output = convert(input);
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Keep the output rounded to the third decimal place:
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> rounded = Math.round(output * <span style=color:#0086f7;font-weight:700>1000</span>) / <span style=color:#0086f7;font-weight:700>1000</span>;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> rounded.toString();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=définition-et-export-du-composant-de-saisie-de-température>Définition et export du composant de saisie de température
<span><a href=#d%c3%a9finition-et-export-du-composant-de-saisie-de-temp%c3%a9rature><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Dans le fichier <code>components/TemperatureInput.js</code>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { TextInput } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { scaleNames } from <span style=color:#0086d2>&#34;../utils/temperatureUtils&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> styles from <span style=color:#0086d2>&#34;../theme/styles&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Component for displaying and inputting a temperature in a specific scale
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> TemperatureInput = ({ value, scale, onChange }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> TemperatureInput;
</span></span></code></pre></div></section><section><h3 id=définition-du-composant-racine>Définition du composant racine
<span><a href=#d%c3%a9finition-du-composant-racine><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Dans le fichier <code>App.js</code>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { useState } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> BoilingResult from <span style=color:#0086d2>&#34;./components/BoilingResult&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> TemperatureInput from <span style=color:#0086d2>&#34;./components/TemperatureInput&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { toCelsius, toFahrenheit, tryConvert } from <span style=color:#0086d2>&#34;./utils/temperatureUtils&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> styles from <span style=color:#0086d2>&#34;./theme/styles&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Main component
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>};
</span></span></code></pre></div></section><section><h2 id=applications-multi-écrans>Applications multi-écrans
<span><a href=#applications-multi-%c3%a9crans><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=react-navigation>React Navigation
<span><a href=#react-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Composant issu de la communauté des développeurs React Native.</li><li>Devenu le standard pour les applications RN multi-vues.</li></ul><p><a href=https://reactnavigation.org><img src=images/react_navigation_logo.png alt="React Navigation logo"></a></p></section><section><h3 id=installation-de-react-navigation>Installation de react-navigation
<span><a href=#installation-de-react-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Utiliser <code>npx expo install</code> au lieu de <code>npm install</code> assure l&rsquo;installation de versions compatibles avec celle d&rsquo;Expo.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># Core components and common dependencies</span>
</span></span><span style=display:flex><span>npm install @react-navigation/native
</span></span><span style=display:flex><span>npx expo install react-native-screens react-native-safe-area-context
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># If StackNavigator is used</span>
</span></span><span style=display:flex><span>npm install @react-navigation/native-stack
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic># If BottomTabNavigator is used</span>
</span></span><span style=display:flex><span>npm install @react-navigation/bottom-tabs
</span></span></code></pre></div></section><section><h3 id=exemple--navigation-par-piles-_stacks_>Exemple : navigation par piles (<em>stacks</em>)
<span><a href=#exemple--navigation-par-piles-_stacks_><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/StackNavigatorDemo>https://github.com/ensc-mobi/StackNavigatorDemo</a></p><p><img src=images/stack-navigator-demo.png alt="StackNavigator demo"></p></section><section><h3 id=navigationcontainer>NavigationContainer
<span><a href=#navigationcontainer><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Composant racine nécessaire pour utiliser React Navigation.</li><li>Ses descendants directs (composants enfants) sont appelés des <strong>écrans</strong> (<em>screens</em>).</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;{<span style=color:#080;background-color:#0f140f;font-style:italic>/* Rest of your app code */</span>}&lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></section><section><h3 id=stacknavigator>StackNavigator
<span><a href=#stacknavigator><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Principe similaire au web : gestion d&rsquo;une pile d&rsquo;écrans avec possibilité de naviguer de l&rsquo;un à l&rsquo;autre.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, View, Text } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createNativeStackNavigator } from <span style=color:#0086d2>&#34;@react-navigation/native-stack&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeScreen = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the home screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Stack = createNativeStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=api-de-navigation>API de navigation
<span><a href=#api-de-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Passé comme <em>prop</em> d&rsquo;un composant écran, l&rsquo;objet <code>navigation</code> permet la gestion de la navigation:</p><ul><li><code>navigation.navigate("RouteName")</code> navigue vers un nouvel écran, sauf s&rsquo;il est déjà l&rsquo;écran actuel.</li><li><code>navigation.push("RouteName")</code> navigue vers un nouvel écran même s&rsquo;il est déjà l&rsquo;écran actuel.</li><li><code>navigation.goBack()</code> permet de revenir en arrière dans la navigation.</li></ul></section><section><h3 id=exemple-de-navigation>Exemple de navigation
<span><a href=#exemple-de-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, View, Text, Button } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createNativeStackNavigator } from <span style=color:#0086d2>&#34;@react-navigation/native-stack&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeScreen = ({ navigation }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the home screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Details&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Details&#34;</span>)}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> DetailsScreen = ({ navigation }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the details screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Details... again&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.push(<span style=color:#0086d2>&#34;Details&#34;</span>)}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span> <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go back&#34;</span> <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.goBack()} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span> <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Home&#34;</span> <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Home&#34;</span>)} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Stack = createNativeStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Stack.Navigator</span> <span style=color:#ff0086;font-weight:700>initialRouteName</span>=<span style=color:#0086d2>&#34;Home&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Details&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={DetailsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=passage-de-paramètres-entre-écrans>Passage de paramètres entre écrans
<span><a href=#passage-de-param%c3%a8tres-entre-%c3%a9crans><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>navigation.navigate</code> permet de transmettre des données d&rsquo;un écran à l&rsquo;autre sous la forme d&rsquo;un objet JavaScript.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Navigate to &#34;RouteName&#34;, passing some parameters
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>navigation.navigate(<span style=color:#0086d2>&#34;RouteName&#34;</span>, { <span style=color:#080;background-color:#0f140f;font-style:italic>/* params go here */</span> })
</span></span></code></pre></div><p>L&rsquo;écran d&rsquo;arrivée peut lire les paramètres grâce à la propriété <code>params</code> du <em>prop</em> <code>route</code>.</p><p>Ces paramètres sont équivalents à ceux d&rsquo;une URL. Ils ne doivent pas contenir les données métiers de l&rsquo;application (plutôt gérés via l&rsquo;état).</p></section><section><h3 id=exemple-de-passage-de-paramètres>Exemple de passage de paramètres
<span><a href=#exemple-de-passage-de-param%c3%a8tres><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, View, Text, Button } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createNativeStackNavigator } from <span style=color:#0086d2>&#34;@react-navigation/native-stack&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeScreen = ({ navigation }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the home screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Details&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Navigate to the Details route with 2 params
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          navigation.navigate(<span style=color:#0086d2>&#34;Details&#34;</span>, {
</span></span><span style=display:flex><span>            itemId: <span style=color:#0086f7;font-weight:700>86</span>,
</span></span><span style=display:flex><span>            otherParam: <span style=color:#0086d2>&#34;anything you want here&#34;</span>,
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> DetailsScreen = ({ navigation, route }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Get the params
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> { itemId, otherParam } = route.params;
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the details screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Convert params to JSON strings before display */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;itemId: {JSON.stringify(itemId)}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;otherParam: {JSON.stringify(otherParam)}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Details... again&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Navigate to Details again with one param
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          navigation.push(<span style=color:#0086d2>&#34;Details&#34;</span>, {
</span></span><span style=display:flex><span>            itemId: Math.floor(Math.random() * <span style=color:#0086f7;font-weight:700>100</span>),
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span> <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go back&#34;</span> <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.goBack()} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span> <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Home&#34;</span> <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Home&#34;</span>)} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Stack = createNativeStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Stack.Navigator</span> <span style=color:#ff0086;font-weight:700>initialRouteName</span>=<span style=color:#0086d2>&#34;Home&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Details&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={DetailsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=en-tête-des-écrans>En-tête des écrans
<span><a href=#en-t%c3%aate-des-%c3%a9crans><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>La <em>prop</em> <code>screenOptions</code> de <code>StackNavigator</code> permet de configurer l&rsquo;en-tête commun à tous les écrans. La couleur de la barre de statut du téléphone peut être harmonisée grâce au composant <a href=https://reactnavigation.org/docs/status-bar/>StatusBar</a>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, View, Text, Button, StatusBar } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createNativeStackNavigator } from <span style=color:#0086d2>&#34;@react-navigation/native-stack&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Stack = createNativeStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>StatusBar</span> <span style=color:#ff0086;font-weight:700>barStyle</span>=<span style=color:#0086d2>&#34;light-content&#34;</span> <span style=color:#ff0086;font-weight:700>backgroundColor</span>=<span style=color:#0086d2>&#34;#f4511e&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>initialRouteName</span>=<span style=color:#0086d2>&#34;Home&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>screenOptions</span>={{
</span></span><span style=display:flex><span>          headerStyle: {
</span></span><span style=display:flex><span>            backgroundColor: <span style=color:#0086d2>&#34;#f4511e&#34;</span>,
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          headerTintColor: <span style=color:#0086d2>&#34;#fff&#34;</span>,
</span></span><span style=display:flex><span>          headerTitleStyle: {
</span></span><span style=display:flex><span>            fontWeight: <span style=color:#0086d2>&#34;bold&#34;</span>,
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      &gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span>
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen}
</span></span><span style=display:flex><span>          <span style=color:#ff0086;font-weight:700>options</span>={{ title: <span style=color:#0086d2>&#34;My home&#34;</span> }}
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Stack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Details&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={DetailsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Stack.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=restructuration-du-projet-1>Restructuration du projet
<span><a href=#restructuration-du-projet-1><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><code>screens/</code> stocke les composants définissant chaque écran de l&rsquo;application.</li><li><code>navigation/</code> stocke les composants qui organisent la navigation entre les écrans.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MyApp/
</span></span><span style=display:flex><span>├── screens/
</span></span><span style=display:flex><span>│   ├── DetailsScreen.js
</span></span><span style=display:flex><span>│   ├── HomeScreen.js
</span></span><span style=display:flex><span>├── navigation/
</span></span><span style=display:flex><span>│   ├── RootStackNavigator.js
</span></span><span style=display:flex><span>├── theme/
</span></span><span style=display:flex><span>│   ├── colors.js
</span></span><span style=display:flex><span>│   ├── styles.js
</span></span><span style=display:flex><span>└── App.js
</span></span></code></pre></div></section><section><h3 id=exemple--navigation-par-onglets>Exemple : navigation par onglets
<span><a href=#exemple--navigation-par-onglets><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/TabNavigatorDemo>https://github.com/ensc-mobi/TabNavigatorDemo</a></p><p><img src=images/tab-navigator-demo.png alt="BottomTabNavigator demo"></p></section><section><h3 id=tabnavigator>TabNavigator
<span><a href=#tabnavigator><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Affichage d&rsquo;onglets en bas de l&rsquo;écran.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> Ionicons from <span style=color:#0086d2>&#34;react-native-vector-icons/Ionicons&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createBottomTabNavigator } from <span style=color:#0086d2>&#34;@react-navigation/bottom-tabs&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeScreen = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;This is the home screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> SettingsScreen = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;This is the settings screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Tab = createBottomTabNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Settings&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=paramétrage-de-lapparence>Paramétrage de l&rsquo;apparence
<span><a href=#param%c3%a9trage-de-lapparence><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Réalisé grâce à la <em>prop</em> <code>screenOptions</code> de <code>TabNavigator</code>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View, Button, StatusBar } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> Ionicons from <span style=color:#0086d2>&#34;react-native-vector-icons/Ionicons&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createBottomTabNavigator } from <span style=color:#0086d2>&#34;@react-navigation/bottom-tabs&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Tab = createBottomTabNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>StatusBar</span> <span style=color:#ff0086;font-weight:700>barStyle</span>=<span style=color:#0086d2>&#34;light-content&#34;</span> <span style=color:#ff0086;font-weight:700>backgroundColor</span>=<span style=color:#0086d2>&#34;#f4511e&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>screenOptions</span>={({ route }) =&gt; ({
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Icons will be different if the tab is focused
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          tabBarIcon: ({ focused, color, size }) =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#fb660a;font-weight:700>let</span> iconName;
</span></span><span style=display:flex><span>            <span style=color:#fb660a;font-weight:700>if</span> (route.name === <span style=color:#0086d2>&#34;Home&#34;</span>) {
</span></span><span style=display:flex><span>              iconName = focused
</span></span><span style=display:flex><span>                ? <span style=color:#0086d2>&#34;ios-information-circle&#34;</span>
</span></span><span style=display:flex><span>                : <span style=color:#0086d2>&#34;ios-information-circle-outline&#34;</span>;
</span></span><span style=display:flex><span>            } <span style=color:#fb660a;font-weight:700>else</span> <span style=color:#fb660a;font-weight:700>if</span> (route.name === <span style=color:#0086d2>&#34;Settings&#34;</span>) {
</span></span><span style=display:flex><span>              iconName = focused ? <span style=color:#0086d2>&#34;ios-list&#34;</span> : <span style=color:#0086d2>&#34;ios-list-outline&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#080;background-color:#0f140f;font-style:italic>// You can return any component that you like here!
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>            <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Ionicons</span> <span style=color:#ff0086;font-weight:700>name</span>={iconName} <span style=color:#ff0086;font-weight:700>size</span>={size} <span style=color:#ff0086;font-weight:700>color</span>={color} /&gt;;
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          tabBarActiveTintColor: <span style=color:#0086d2>&#34;tomato&#34;</span>,
</span></span><span style=display:flex><span>          tabBarInactiveTintColor: <span style=color:#0086d2>&#34;gray&#34;</span>,
</span></span><span style=display:flex><span>          headerStyle: {
</span></span><span style=display:flex><span>            backgroundColor: <span style=color:#0086d2>&#34;#f4511e&#34;</span>,
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          headerTintColor: <span style=color:#0086d2>&#34;#fff&#34;</span>,
</span></span><span style=display:flex><span>          headerTitleStyle: {
</span></span><span style=display:flex><span>            fontWeight: <span style=color:#0086d2>&#34;bold&#34;</span>,
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>        })}
</span></span><span style=display:flex><span>      &gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Settings&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=navigation-entre-onglets>Navigation entre onglets
<span><a href=#navigation-entre-onglets><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>API identique à la navigation entre les écrans d&rsquo;un <code>StackNavigator</code>.</li><li>L&rsquo;objet <code>navigation</code> doit être passé comme <em>prop</em> de l&rsquo;écran.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View, Button } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> Ionicons from <span style=color:#0086d2>&#34;react-native-vector-icons/Ionicons&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createBottomTabNavigator } from <span style=color:#0086d2>&#34;@react-navigation/bottom-tabs&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeScreen = ({ navigation }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the home screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Settings&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Settings&#34;</span>)}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> SettingsScreen = ({ navigation }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the settings screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span> <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Home&#34;</span> <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Home&#34;</span>)} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Tab = createBottomTabNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>screenOptions</span>={({ route }) =&gt; ({
</span></span><span style=display:flex><span>          tabBarIcon: ({ focused, color, size }) =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#fb660a;font-weight:700>let</span> iconName;
</span></span><span style=display:flex><span>            <span style=color:#fb660a;font-weight:700>if</span> (route.name === <span style=color:#0086d2>&#34;Home&#34;</span>) {
</span></span><span style=display:flex><span>              iconName = focused
</span></span><span style=display:flex><span>                ? <span style=color:#0086d2>&#34;ios-information-circle&#34;</span>
</span></span><span style=display:flex><span>                : <span style=color:#0086d2>&#34;ios-information-circle-outline&#34;</span>;
</span></span><span style=display:flex><span>            } <span style=color:#fb660a;font-weight:700>else</span> <span style=color:#fb660a;font-weight:700>if</span> (route.name === <span style=color:#0086d2>&#34;Settings&#34;</span>) {
</span></span><span style=display:flex><span>              iconName = focused ? <span style=color:#0086d2>&#34;ios-list&#34;</span> : <span style=color:#0086d2>&#34;ios-list-outline&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#080;background-color:#0f140f;font-style:italic>// You can return any component that you like here!
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>            <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Ionicons</span> <span style=color:#ff0086;font-weight:700>name</span>={iconName} <span style=color:#ff0086;font-weight:700>size</span>={size} <span style=color:#ff0086;font-weight:700>color</span>={color} /&gt;;
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          tabBarActiveTintColor: <span style=color:#0086d2>&#34;tomato&#34;</span>,
</span></span><span style=display:flex><span>          tabBarInactiveTintColor: <span style=color:#0086d2>&#34;gray&#34;</span>,
</span></span><span style=display:flex><span>        })}
</span></span><span style=display:flex><span>      &gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Settings&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsScreen} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=affichage-de-piles-dans-les-onglets>Affichage de piles dans les onglets
<span><a href=#affichage-de-piles-dans-les-onglets><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View, Button, StatusBar } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> Ionicons from <span style=color:#0086d2>&#34;react-native-vector-icons/Ionicons&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { NavigationContainer } from <span style=color:#0086d2>&#34;@react-navigation/native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createNativeStackNavigator } from <span style=color:#0086d2>&#34;@react-navigation/native-stack&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { createBottomTabNavigator } from <span style=color:#0086d2>&#34;@react-navigation/bottom-tabs&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeScreen = ({ navigation }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the home screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Button</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>title</span>=<span style=color:#0086d2>&#34;Go to Details&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; navigation.navigate(<span style=color:#0086d2>&#34;Details&#34;</span>)}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> DetailsScreen = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the details screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> SettingsScreen = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.text}&gt;This is the settings screen&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Screen stack for home tab
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> HomeStack = createNativeStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> HomeStackNavigator = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>HomeStack.Navigator</span> <span style=color:#ff0086;font-weight:700>initialRouteName</span>=<span style=color:#0086d2>&#34;Home&#34;</span> <span style=color:#ff0086;font-weight:700>screenOptions</span>={screenOptions}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>HomeStack.Screen</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Home&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>component</span>={HomeScreen}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>options</span>={{ title: <span style=color:#0086d2>&#34;My home&#34;</span> }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>HomeStack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Details&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={DetailsScreen} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>HomeStack.Navigator</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Screen stack for settings tab
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> SettingsStack = createNativeStackNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> SettingsStackNavigator = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>SettingsStack.Navigator</span>
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>initialRouteName</span>=<span style=color:#0086d2>&#34;Home&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#ff0086;font-weight:700>screenOptions</span>={screenOptions}
</span></span><span style=display:flex><span>    &gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>SettingsStack.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;Settings&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsScreen} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>SettingsStack.Navigator</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> Tab = createBottomTabNavigator();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>StatusBar</span> <span style=color:#ff0086;font-weight:700>barStyle</span>=<span style=color:#0086d2>&#34;light-content&#34;</span> <span style=color:#ff0086;font-weight:700>backgroundColor</span>=<span style=color:#0086d2>&#34;#f4511e&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>screenOptions</span>={({ route }) =&gt; ({
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Icons will be different if the tab is focused
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          tabBarIcon: ({ focused, color, size }) =&gt; {
</span></span><span style=display:flex><span>            <span style=color:#fb660a;font-weight:700>let</span> iconName;
</span></span><span style=display:flex><span>            <span style=color:#fb660a;font-weight:700>if</span> (route.name === <span style=color:#0086d2>&#34;HomeStack&#34;</span>) {
</span></span><span style=display:flex><span>              iconName = focused
</span></span><span style=display:flex><span>                ? <span style=color:#0086d2>&#34;ios-information-circle&#34;</span>
</span></span><span style=display:flex><span>                : <span style=color:#0086d2>&#34;ios-information-circle-outline&#34;</span>;
</span></span><span style=display:flex><span>            } <span style=color:#fb660a;font-weight:700>else</span> <span style=color:#fb660a;font-weight:700>if</span> (route.name === <span style=color:#0086d2>&#34;SettingsStack&#34;</span>) {
</span></span><span style=display:flex><span>              iconName = focused ? <span style=color:#0086d2>&#34;ios-list&#34;</span> : <span style=color:#0086d2>&#34;ios-list-outline&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#080;background-color:#0f140f;font-style:italic>// You can return any component that you like here!
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>            <span style=color:#fb660a;font-weight:700>return</span> &lt;<span style=color:#fb660a;font-weight:700>Ionicons</span> <span style=color:#ff0086;font-weight:700>name</span>={iconName} <span style=color:#ff0086;font-weight:700>size</span>={size} <span style=color:#ff0086;font-weight:700>color</span>={color} /&gt;;
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          tabBarActiveTintColor: <span style=color:#0086d2>&#34;tomato&#34;</span>,
</span></span><span style=display:flex><span>          tabBarInactiveTintColor: <span style=color:#0086d2>&#34;gray&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Hiding tab navigator header to show only stack header
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          headerShown: <span style=color:#fb660a;font-weight:700>false</span>,
</span></span><span style=display:flex><span>        })}
</span></span><span style=display:flex><span>      &gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;HomeStack&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={HomeStackNavigator} /&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Tab.Screen</span> <span style=color:#ff0086;font-weight:700>name</span>=<span style=color:#0086d2>&#34;SettingsStack&#34;</span> <span style=color:#ff0086;font-weight:700>component</span>={SettingsStackNavigator} /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>Tab.Navigator</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>NavigationContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: { flex: <span style=color:#0086f7;font-weight:700>1</span>, justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>, alignItems: <span style=color:#0086d2>&#34;center&#34;</span> },
</span></span><span style=display:flex><span>  text: { fontSize: <span style=color:#0086f7;font-weight:700>18</span>, paddingBottom: <span style=color:#0086f7;font-weight:700>10</span> },
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Common stack header options
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> screenOptions = {
</span></span><span style=display:flex><span>  headerStyle: {
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;#f4511e&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  headerTintColor: <span style=color:#0086d2>&#34;#fff&#34;</span>,
</span></span><span style=display:flex><span>  headerTitleStyle: {
</span></span><span style=display:flex><span>    fontWeight: <span style=color:#0086d2>&#34;bold&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></section><section><h3 id=restructuration-du-projet-2>Restructuration du projet
<span><a href=#restructuration-du-projet-2><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MyApp/
</span></span><span style=display:flex><span>├── screens/
</span></span><span style=display:flex><span>│   ├── DetailsScreen.js
</span></span><span style=display:flex><span>│   ├── HomeScreen.js
</span></span><span style=display:flex><span>│   ├── SettingsScreen.js
</span></span><span style=display:flex><span>├── navigation/
</span></span><span style=display:flex><span>│   ├── HomeStackNavigator.js
</span></span><span style=display:flex><span>│   ├── SettingsStackNavigator.js
</span></span><span style=display:flex><span>│   ├── RootTabNavigator.js
</span></span><span style=display:flex><span>├── theme/
</span></span><span style=display:flex><span>│   ├── colors.js
</span></span><span style=display:flex><span>│   ├── styles.js
</span></span><span style=display:flex><span>└── App.js
</span></span></code></pre></div></section><section><h3 id=autres-possibilités-de-react-navigation>Autres possibilités de react-navigation
<span><a href=#autres-possibilit%c3%a9s-de-react-navigation><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://reactnavigation.org/docs/drawer-based-navigation>Navigation par menu accordéon</a></li><li><a href=https://reactnavigation.org/docs/modal>Ecran modal</a></li><li><a href=https://reactnavigation.org/docs/auth-flow>Gestion de l&rsquo;authentification</a></li><li>&mldr;</li></ul></section><section><h2 id=utilisation-dapi-web>Utilisation d&rsquo;API web
<span><a href=#utilisation-dapi-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=la-notion-dapi>La notion d&rsquo;API
<span><a href=#la-notion-dapi><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Une <strong>API</strong> (<em>Application Programming Interface</em>) est un point d&rsquo;entrée programmatique dans un système.</p><p>Elle fournit un moyen d&rsquo;interagir avec ce système.</p><p>Les API permettent aux développeurs d&rsquo;intégrer des services externes dans leurs applications.</p></section><section><h3 id=spécificités-des-api-web>Spécificités des API web
<span><a href=#sp%c3%a9cificit%c3%a9s-des-api-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Une <strong>API web</strong> (appelée parfois service web) est une API accessible via les technologies du web : HTTP ou HTTPS.</p><p>Les API web utilisent le plus souvent le format de donnée <strong>JSON</strong>.</p><p>Certaines sont librement utilisables, d&rsquo;autres nécessitent une authentification du client.</p></section><section><h3 id=exemples-dapi-web>Exemples d&rsquo;API web
<span><a href=#exemples-dapi-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://pokeapi.co/>PokéAPI</a></li><li><a href=https://swapi.dev/>Star Wars API</a></li><li><a href=https://en.wikipedia.org/w/api.php?>Wikipedia</a></li><li><a href=https://developer.spotify.com/documentation/web-api/>Spotify</a></li><li><a href=https://www.omdbapi.com/>OMDb API</a></li><li>&mldr;</li></ul></section><section><h3 id=outils-pour-la-gestion-des-api-web>Outils pour la gestion des API web
<span><a href=#outils-pour-la-gestion-des-api-web><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://www.getpostman.com/>Postman</a></li><li>Extension <a href=https://addons.mozilla.org/fr/firefox/addon/restclient/>RESTClient</a> pour Firefox</li><li><a href=https://insomnia.rest/>Insomnia</a></li><li>&mldr;</li></ul></section><section><h3 id=exemple-dutilisation-dune-api>Exemple d&rsquo;utilisation d&rsquo;une API
<span><a href=#exemple-dutilisation-dune-api><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/RandomBeer>https://github.com/ensc-mobi/RandomBeer</a></p><p><img src=images/random_beer.png alt="Random Beer app"></p></section><section><h3 id=appels-réseau-asynchrones-avec-fetch>Appels réseau asynchrones avec <code>fetch</code>
<span><a href=#appels-r%c3%a9seau-asynchrones-avec-fetch><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Une <a href=https://web.dev/promises/>promesse</a> (<em>promise</em>) est un objet qui encapsule une opération dont le résultat n&rsquo;est pas encore connu.</p><p>La fonction JavaScript <a href=https://developers.google.com/web/updates/2015/03/introduction-to-fetch>fetch()</a> exploite les possibilités des promesses.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Envoie une requête HTTP asynchrone vers l&#39;URL spécifiée
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>fetch(url)
</span></span><span style=display:flex><span>  .then(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Code appelé ultérieurement si la requête réussit
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  })
</span></span><span style=display:flex><span>  .<span style=color:#fb660a;font-weight:700>catch</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Code appelé ultérieurement si la requête échoue
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  });
</span></span></code></pre></div></section><section><h3 id=accès-à-une-ressource-distante>Accès à une ressource distante
<span><a href=#acc%c3%a8s-%c3%a0-une-ressource-distante><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Envoi d&#39;une requête HTTP asynchrone vers l&#39;URL spécifiée
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// La réponse reçue ici contient des données JSON
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>fetch(<span style=color:#0086d2>&#34;http://my-api-url&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Accès au contenu JSON de la réponse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  .then((response) =&gt; response.json())
</span></span><span style=display:flex><span>  .then((content) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Utilisation du contenu de la réponse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// `content` est un objet ou un tableau JavaScript
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  })
</span></span><span style=display:flex><span>  .<span style=color:#fb660a;font-weight:700>catch</span>((error) =&gt; {
</span></span><span style=display:flex><span>    console.error(error);
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div></section><section><h3 id=mise-à-jour-dune-ressource-distante>Mise à jour d&rsquo;une ressource distante
<span><a href=#mise-%c3%a0-jour-dune-ressource-distante><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>fetch(<span style=color:#0086d2>&#34;https://mywebsite.com/endpoint/&#34;</span>, {
</span></span><span style=display:flex><span>  method: <span style=color:#0086d2>&#34;POST&#34;</span>,
</span></span><span style=display:flex><span>  headers: {
</span></span><span style=display:flex><span>    Accept: <span style=color:#0086d2>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#0086d2>&#34;Content-Type&#34;</span>: <span style=color:#0086d2>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  body: JSON.stringify({
</span></span><span style=display:flex><span>    firstParam: <span style=color:#0086d2>&#34;yourValue&#34;</span>,
</span></span><span style=display:flex><span>    secondParam: <span style=color:#0086d2>&#34;yourOtherValue&#34;</span>,
</span></span><span style=display:flex><span>  }),
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=appels-réseau-asynchrones-avec-asyncawait>Appels réseau asynchrones avec <code>async/await</code>
<span><a href=#appels-r%c3%a9seau-asynchrones-avec-asyncawait><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Les fonctions utilisant <code>await</code> doivent être déclarées avec le mot-clé <code>async</code>.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// Cette fonction renvoie une promesse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> fetchRemoteApi = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Envoi d&#39;une requête HTTP asynchrone vers l&#39;URL spécifiée
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// La réponse reçue ici contient des données JSON
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#fb660a;font-weight:700>const</span> response = <span style=color:#fb660a;font-weight:700>await</span> fetch(<span style=color:#0086d2>&#34;http://my-api-url&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Accès au contenu JSON de la réponse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#fb660a;font-weight:700>const</span> content = <span style=color:#fb660a;font-weight:700>await</span> response.json();
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Utilisation du contenu de la réponse
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// `content` est un objet ou un tableau JavaScript
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Gestion de l&#39;erreur
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fetchRemoteApi();
</span></span></code></pre></div></section><section><h3 id=exécution-de-code-à-linitialisation-dun-composant>Exécution de code à l&rsquo;initialisation d&rsquo;un composant
<span><a href=#ex%c3%a9cution-de-code-%c3%a0-linitialisation-dun-composant><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Le hook <a href=https://reactjs.org/docs/hooks-effect.html>useEffect</a> permet de déclencher des traitements à certains moments du cycle de vie d&rsquo;un composant.</li><li>Par défaut, le code associé est appelé à chaque réaffichage du composant. On peut définir une liste des variables dont le changement déclenche une nouvelle exécution du code du <code>hook</code>.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>useEffect(() =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Code exécuté uniquement au chargement (mounting) du composant
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>}, []);
</span></span></code></pre></div></section><section><h3 id=affichage-pendant-le-chargement>Affichage pendant le chargement
<span><a href=#affichage-pendant-le-chargement><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Le composant <a href=https://reactnative.dev/docs/activityindicator>ActivityIndicator</a> permet d&rsquo;afficher un <em>spinner</em> pendant les actions potentiellement longues (chargements réseau, etc).</li><li>Il est souvent associé à un booléen <code>loading</code> ajouté à l&rsquo;état du composant.</li></ul><p><img src=images/spinner.gif alt="ActivityIndicator spinner"></p></section><section><h3 id=mise-en-oeuvre-1>Mise en oeuvre
<span><a href=#mise-en-oeuvre-1><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { useEffect } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { useState } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> {
</span></span><span style=display:flex><span>  StyleSheet,
</span></span><span style=display:flex><span>  Text,
</span></span><span style=display:flex><span>  View,
</span></span><span style=display:flex><span>  ActivityIndicator,
</span></span><span style=display:flex><span>  TouchableOpacity,
</span></span><span style=display:flex><span>} from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// API endpoint
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> rootEndpoint = <span style=color:#0086d2>&#34;https://api.punkapi.com/v2&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// fetch API for a random beer
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> fetchRandomBeer = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> response = <span style=color:#fb660a;font-weight:700>await</span> fetch(<span style=color:#0086d2>`</span><span style=color:#0086d2>${</span>rootEndpoint<span style=color:#0086d2>}</span><span style=color:#0086d2>/beers/random`</span>);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> beers = <span style=color:#fb660a;font-weight:700>await</span> response.json();
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Access first element of returned beer array
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>return</span> beers[<span style=color:#0086f7;font-weight:700>0</span>];
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> App = () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Define state
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> [loading, setLoading] = useState(<span style=color:#fb660a;font-weight:700>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> [error, setError] = useState(<span style=color:#fb660a;font-weight:700>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> [beerName, setBeerName] = useState(<span style=color:#0086d2>&#34;&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>const</span> [beerDescription, setBeerDescription] = useState(<span style=color:#0086d2>&#34;&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Load a new beer
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> loadBeer = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>    setLoading(<span style=color:#fb660a;font-weight:700>true</span>);
</span></span><span style=display:flex><span>    setError(<span style=color:#fb660a;font-weight:700>false</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>const</span> beer = <span style=color:#fb660a;font-weight:700>await</span> fetchRandomBeer();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// Update state
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      setBeerName(beer.name);
</span></span><span style=display:flex><span>      setBeerDescription(beer.description);
</span></span><span style=display:flex><span>    } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>      setError(<span style=color:#fb660a;font-weight:700>true</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    setLoading(<span style=color:#fb660a;font-weight:700>false</span>);
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// The empty array [] prevents the effect from running at each re-render
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  useEffect(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// More details; https://www.robinwieruch.de/react-hooks-fetch-data/
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    loadBeer();
</span></span><span style=display:flex><span>  }, []);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>if</span> (loading) {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>ActivityIndicator</span> <span style=color:#ff0086;font-weight:700>size</span>=<span style=color:#0086d2>&#34;large&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>if</span> (error) {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Something went wrong :\&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.name}&gt;{beerName}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.description}&gt;{beerDescription}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#080;background-color:#0f140f;font-style:italic>/* Add a button to fetch another beer */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>TouchableOpacity</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>style</span>={styles.button}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onPress</span>={() =&gt; {
</span></span><span style=display:flex><span>          loadBeer();
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      &gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#fb660a;font-weight:700>Text</span>&gt;Grab a <span style=color:#fb660a;font-weight:700>new</span> beer!&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#fb660a;font-weight:700>TouchableOpacity</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    margin: <span style=color:#0086f7;font-weight:700>30</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  name: {
</span></span><span style=display:flex><span>    fontSize: <span style=color:#0086f7;font-weight:700>18</span>,
</span></span><span style=display:flex><span>    fontWeight: <span style=color:#0086d2>&#34;700&#34;</span>,
</span></span><span style=display:flex><span>    marginBottom: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  description: {
</span></span><span style=display:flex><span>    marginBottom: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  button: {
</span></span><span style=display:flex><span>    borderWidth: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    borderColor: <span style=color:#0086d2>&#34;black&#34;</span>,
</span></span><span style=display:flex><span>    borderRadius: <span style=color:#0086f7;font-weight:700>3</span>,
</span></span><span style=display:flex><span>    padding: <span style=color:#0086f7;font-weight:700>5</span>,
</span></span><span style=display:flex><span>    justifyContent: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>    alignItems: <span style=color:#0086d2>&#34;center&#34;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=restructuration-du-projet-3>Restructuration du projet
<span><a href=#restructuration-du-projet-3><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>api/</code> rassemble les définitions des appels réseau asynchrones.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MyApp/
</span></span><span style=display:flex><span>├── api/
</span></span><span style=display:flex><span>│   ├── punkapi.js
</span></span><span style=display:flex><span>├── theme/
</span></span><span style=display:flex><span>│   ├── styles.js
</span></span><span style=display:flex><span>└── App.js
</span></span></code></pre></div></section><section><h2 id=persistance-locale>Persistance locale
<span><a href=#persistance-locale><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2></section><section><h3 id=besoin>Besoin
<span><a href=#besoin><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Les applications mobiles doivent souvent enregistrer une partie de leurs données (préférences utilisateurs, dernières informations consultées, etc) dans la mémoire de stockage du téléphone/tablette.</li><li>Plusieurs solutions existent pour cela.</li></ul></section><section><h3 id=exemple-de-stockage-local>Exemple de stockage local
<span><a href=#exemple-de-stockage-local><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><a href=https://github.com/ensc-mobi/ShowerThoughts>https://github.com/ensc-mobi/ShowerThoughts</a></p><p><img src=images/showerthoughts.png alt="Show thoughts"></p></section><section><h3 id=stockage-local-avec-asyncstorage>Stockage local avec <code>AsyncStorage</code>
<span><a href=#stockage-local-avec-asyncstorage><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Le composant <a href=https://react-native-async-storage.github.io/async-storage/>AsyncStorage</a> permet de stocker localement des données sous forme de paires nom/valeur.</li><li>Il gère des valeurs de type chaîne, ou objet après sérialisation JSON.</li><li>Son API est basée sur les promesses et donc asynchrone.</li><li>Il doit être ajouté au projet :</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npx expo install @react-native-async-storage/async-storage
</span></span></code></pre></div></section><section><h3 id=ecriture-de-données>Ecriture de données
<span><a href=#ecriture-de-donn%c3%a9es><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>setItem</code> permet à la fois d&rsquo;ajouter de nouveaux éléments et de modifier des éléments existants.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> AsyncStorage from <span style=color:#0086d2>&#34;@react-native-async-storage/async-storage&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> storeString = <span style=color:#fb660a;font-weight:700>async</span> (value) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.setItem(<span style=color:#0086d2>&#34;my_storage_key&#34;</span>, value);
</span></span><span style=display:flex><span>  } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Saving error
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> storeObject = <span style=color:#fb660a;font-weight:700>async</span> (value) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> jsonValue = JSON.stringify(value)
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.setItem(<span style=color:#0086d2>&#34;my_storage_key&#34;</span>, jsonValue)
</span></span><span style=display:flex><span>  } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Saving error
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=lecture-de-données>Lecture de données
<span><a href=#lecture-de-donn%c3%a9es><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p><code>getItem</code> renvoie une promesse qui réussit si la valeur associée à la clé est trouvée, ou renvoie <code>null</code> dans le cas contraire.</p><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> AsyncStorage from <span style=color:#0086d2>&#34;@react-native-async-storage/async-storage&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> getString = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> value = <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.getItem(<span style=color:#0086d2>&#34;my_storage_key&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>if</span> (value !== <span style=color:#fb660a;font-weight:700>null</span>) {
</span></span><span style=display:flex><span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// value previously stored
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    }
</span></span><span style=display:flex><span>  } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Error reading value
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> getObject = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>const</span> jsonValue = <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.getItem(<span style=color:#0086d2>&#34;my_storage_key&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>return</span> jsonValue != <span style=color:#fb660a;font-weight:700>null</span> ? JSON.parse(jsonValue) : <span style=color:#fb660a;font-weight:700>null</span>;
</span></span><span style=display:flex><span>  } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Error reading value
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></section><section><h3 id=mise-en-oeuvre-2>Mise en oeuvre
<span><a href=#mise-en-oeuvre-2><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Les données sont chargées depuis le stockage local uniquement au démarrage de l&rsquo;application.</li><li>La validation de la saisie déclenche la sauvegarde locale, puis la mise à jour de l&rsquo;état.</li></ul><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> React, { useEffect, useState } from <span style=color:#0086d2>&#34;react&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> { StyleSheet, Text, View, TextInput, FlatList } from <span style=color:#0086d2>&#34;react-native&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>import</span> AsyncStorage from <span style=color:#0086d2>&#34;@react-native-async-storage/async-storage&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic>// AsyncStorage key used for storing ideas
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span><span style=color:#fb660a;font-weight:700>const</span> STORAGE_KEY = <span style=color:#0086d2>&#34;ASYNC_STORAGE_IDEAS&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>export</span> <span style=color:#fb660a;font-weight:700>default</span> <span style=color:#fb660a;font-weight:700>function</span> App() {
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Value of the text input
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> [input, setInput] = useState(<span style=color:#0086d2>&#34;&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Ideas list, initially empty
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> [ideas, setIdeas] = useState([]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Clear local storage
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> resetIdeas = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>    console.log(<span style=color:#0086d2>&#34;Removing ideas from local storage...&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.multiRemove([STORAGE_KEY]);
</span></span><span style=display:flex><span>    } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>      console.error(<span style=color:#0086d2>&#34;Failed to clear ideas&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Save ideas array parameter to local storage
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> saveIdeas = <span style=color:#fb660a;font-weight:700>async</span> (newIdeas) =&gt; {
</span></span><span style=display:flex><span>    console.log(<span style=color:#0086d2>`Saving ideas [</span><span style=color:#0086d2>${</span>newIdeas<span style=color:#0086d2>}</span><span style=color:#0086d2>] to local storage...`</span>);
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// Turn ideas array into a JSON string
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      <span style=color:#fb660a;font-weight:700>const</span> jsonIdeas = JSON.stringify(newIdeas);
</span></span><span style=display:flex><span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// Store ideas string
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.setItem(STORAGE_KEY, jsonIdeas);
</span></span><span style=display:flex><span>    } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>      console.error(<span style=color:#0086d2>&#34;Failed to save ideas&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Load ideas from local storage
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  <span style=color:#fb660a;font-weight:700>const</span> loadIdeas = <span style=color:#fb660a;font-weight:700>async</span> () =&gt; {
</span></span><span style=display:flex><span>    console.log(<span style=color:#0086d2>&#34;Loading ideas from local storage...&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#fb660a;font-weight:700>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#080;background-color:#0f140f;font-style:italic>// Load ideas string
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>      <span style=color:#fb660a;font-weight:700>const</span> jsonIdeas = <span style=color:#fb660a;font-weight:700>await</span> AsyncStorage.getItem(STORAGE_KEY);
</span></span><span style=display:flex><span>      <span style=color:#fb660a;font-weight:700>if</span> (jsonIdeas !== <span style=color:#fb660a;font-weight:700>null</span>) {
</span></span><span style=display:flex><span>        <span style=color:#080;background-color:#0f140f;font-style:italic>// Turn stored JSON string into an array, and set it as ideas array
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>        setIdeas(JSON.parse(jsonIdeas));
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    } <span style=color:#fb660a;font-weight:700>catch</span> (e) {
</span></span><span style=display:flex><span>      console.error(<span style=color:#0086d2>&#34;Failed to load ideas&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#080;background-color:#0f140f;font-style:italic>// Load ideas only during initial component mounting
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>  useEffect(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// Uncomment to clear ideas from local storage
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    <span style=color:#080;background-color:#0f140f;font-style:italic>// resetIdeas();
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>    loadIdeas();
</span></span><span style=display:flex><span>  }, []);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fb660a;font-weight:700>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>View</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.container}&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>TextInput</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>style</span>={styles.input}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>placeholder</span>=<span style=color:#0086d2>&#34;Enter your newest brilliant idea&#34;</span>
</span></span><span style=display:flex><span>        // <span style=color:#ff0086;font-weight:700>Display</span> <span style=color:#ff0086;font-weight:700>input</span> <span style=color:#ff0086;font-weight:700>value</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>value</span>={input}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onChangeText</span>={(text) =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Update input value
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          setInput(text);
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>onSubmitEditing</span>={() =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#fb660a;font-weight:700>if</span> (!input) <span style=color:#fb660a;font-weight:700>return</span>; <span style=color:#080;background-color:#0f140f;font-style:italic>// Don&#39;t submit if empty
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Creating a new ideas array with input (new idea) at the end
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          <span style=color:#fb660a;font-weight:700>const</span> newIdeas = [...ideas, input];
</span></span><span style=display:flex><span>          saveIdeas(newIdeas);
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Update state
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          setIdeas(newIdeas);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#080;background-color:#0f140f;font-style:italic>// Reset input value
</span></span></span><span style=display:flex><span><span style=color:#080;background-color:#0f140f;font-style:italic></span>          setInput(<span style=color:#0086d2>&#34;&#34;</span>);
</span></span><span style=display:flex><span>        }}
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#fb660a;font-weight:700>FlatList</span>
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>style</span>={styles.list}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>data</span>={ideas}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>renderItem</span>={({ item }) =&gt; &lt;<span style=color:#fb660a;font-weight:700>Text</span> <span style=color:#ff0086;font-weight:700>style</span>={styles.item}&gt;- {item}&lt;/<span style=color:#fb660a;font-weight:700>Text</span>&gt;}
</span></span><span style=display:flex><span>        <span style=color:#ff0086;font-weight:700>keyExtractor</span>={(item) =&gt; item}
</span></span><span style=display:flex><span>      &gt;&lt;/<span style=color:#fb660a;font-weight:700>FlatList</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#fb660a;font-weight:700>View</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fb660a;font-weight:700>const</span> styles = StyleSheet.create({
</span></span><span style=display:flex><span>  container: {
</span></span><span style=display:flex><span>    flex: <span style=color:#0086f7;font-weight:700>1</span>,
</span></span><span style=display:flex><span>    marginTop: <span style=color:#0086f7;font-weight:700>30</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  input: {
</span></span><span style=display:flex><span>    backgroundColor: <span style=color:#0086d2>&#34;whitesmoke&#34;</span>,
</span></span><span style=display:flex><span>    padding: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>    marginBottom: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  list: {
</span></span><span style=display:flex><span>    marginLeft: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>    marginRight: <span style=color:#0086f7;font-weight:700>10</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  item: {
</span></span><span style=display:flex><span>    padding: <span style=color:#0086f7;font-weight:700>5</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>});
</span></span></code></pre></div></section><section><h3 id=restructuration-du-projet-4>Restructuration du projet
<span><a href=#restructuration-du-projet-4><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MyApp/
</span></span><span style=display:flex><span>├── components/
</span></span><span style=display:flex><span>│   ├── Input.js
</span></span><span style=display:flex><span>├── utils/
</span></span><span style=display:flex><span>│   ├── localStorage.js
</span></span><span style=display:flex><span>├── theme/
</span></span><span style=display:flex><span>│   ├── styles.js
</span></span><span style=display:flex><span>└── App.js
</span></span></code></pre></div></section></div></div><div><a href=https://ensc.bordeaux-inp.fr><img src=https://www.bpesquet.fr/images/ENSC_2022.jpg style=position:absolute;bottom:10px;left:10px></a></div><script src=https://www.bpesquet.fr/reveal.js/dist/reveal.js></script>
<script src=https://www.bpesquet.fr/reveal.js/plugin/math/math.js></script>
<script>Reveal.initialize({history:!1,slideNumber:!0,transition:"convex",math:{mathjax:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js",config:"TeX-MML-AM_HTMLorMML"},dependencies:[{src:"https://www.bpesquet.fr/reveal.js/plugin/markdown/marked.js"},{src:"https://www.bpesquet.fr/reveal.js/plugin/markdown/markdown.js"},{src:"https://www.bpesquet.fr/reveal.js/plugin/notes/notes.js",async:!0},{src:"https://www.bpesquet.fr/reveal.js/plugin/zoom-js/zoom.js",async:!0},{src:"https://www.bpesquet.fr/reveal.js/plugin/highlight/highlight.js",async:!0,callback:function(){hljs.initHighlightingOnLoad()}}],plugins:[RevealMath]})</script></body></html>